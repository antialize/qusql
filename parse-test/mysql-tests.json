[
  {
    "input": "ALTER TABLE `users` ALGORITHM = COPY",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Algorithm {\n                algorithm_span: 20..29,\n                algorithm: Copy(\n                    32..36,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` ALGORITHM = DEFAULT",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Algorithm {\n                algorithm_span: 20..29,\n                algorithm: Default(\n                    32..39,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` ALGORITHM = INPLACE",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Algorithm {\n                algorithm_span: 20..29,\n                algorithm: Inplace(\n                    32..39,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` ALGORITHM = INSTANT",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Algorithm {\n                algorithm_span: 20..29,\n                algorithm: Instant(\n                    32..39,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` ALGORITHM COPY",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Algorithm {\n                algorithm_span: 20..29,\n                algorithm: Copy(\n                    30..34,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` ALGORITHM DEFAULT",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Algorithm {\n                algorithm_span: 20..29,\n                algorithm: Default(\n                    30..37,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` ALGORITHM INPLACE",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Algorithm {\n                algorithm_span: 20..29,\n                algorithm: Inplace(\n                    30..37,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` ALGORITHM INSTANT",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Algorithm {\n                algorithm_span: 20..29,\n                algorithm: Instant(\n                    30..37,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` AUTO_INCREMENT 42",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            AutoIncrement {\n                auto_increment_span: 20..34,\n                value_span: 35..37,\n                value: 42,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` LOCK = DEFAULT",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Lock {\n                lock_span: 20..24,\n                lock: Default(\n                    27..34,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` LOCK = EXCLUSIVE",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Lock {\n                lock_span: 20..24,\n                lock: Exclusive(\n                    27..36,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` LOCK = NONE",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Lock {\n                lock_span: 20..24,\n                lock: None(\n                    27..31,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` LOCK = SHARED",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Lock {\n                lock_span: 20..24,\n                lock: Shared(\n                    27..33,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` LOCK DEFAULT",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Lock {\n                lock_span: 20..24,\n                lock: Default(\n                    25..32,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` LOCK EXCLUSIVE",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Lock {\n                lock_span: 20..24,\n                lock: Exclusive(\n                    25..34,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` LOCK NONE",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Lock {\n                lock_span: 20..24,\n                lock: None(\n                    25..29,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE `users` LOCK SHARED",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..19,\n            },\n        },\n        alter_specifications: [\n            Lock {\n                lock_span: 20..24,\n                lock: Shared(\n                    25..31,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE foo ADD KEY idx_name {columns} {using}",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [],\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected ''('' here\",\n    span: 33..34,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "ALTER TABLE foo ADD KEY idx_name {using} {columns}",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [],\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected ''('' here\",\n    span: 33..34,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "should_fail": true,
    "failure": true
  },
  {
    "input": "ALTER TABLE orders CHANGE COLUMN description desc TEXT NOT NULL",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Change {\n                change_span: 19..25,\n                column_span: Some(\n                    26..32,\n                ),\n                column: Identifier {\n                    value: \"description\",\n                    span: 33..44,\n                },\n                new_column: Identifier {\n                    value: \"desc\",\n                    span: 45..49,\n                },\n                definition: DataType {\n                    identifier: 50..54,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            55..63,\n                        ),\n                    ],\n                },\n                first: None,\n                after: None,\n            },\n        ],\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"'desc' is a reserved identifier use `desc`\",\n    span: 45..49,\n    sql_segment: \"desc\",\n    fragments: [],\n}"
    ],
    "should_fail": true,
    "failure": true
  },
  {
    "input": "ALTER TABLE orders CHANGE COLUMN description desc TEXT NOT NULL AFTER foo",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Change {\n                change_span: 19..25,\n                column_span: Some(\n                    26..32,\n                ),\n                column: Identifier {\n                    value: \"description\",\n                    span: 33..44,\n                },\n                new_column: Identifier {\n                    value: \"desc\",\n                    span: 45..49,\n                },\n                definition: DataType {\n                    identifier: 50..54,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            55..63,\n                        ),\n                    ],\n                },\n                first: None,\n                after: Some(\n                    (\n                        64..69,\n                        Identifier {\n                            value: \"foo\",\n                            span: 70..73,\n                        },\n                    ),\n                ),\n            },\n        ],\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"'desc' is a reserved identifier use `desc`\",\n    span: 45..49,\n    sql_segment: \"desc\",\n    fragments: [],\n}"
    ],
    "failure": true
  },
  {
    "input": "ALTER TABLE orders CHANGE COLUMN description desc TEXT NOT NULL AFTER total_count",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Change {\n                change_span: 19..25,\n                column_span: Some(\n                    26..32,\n                ),\n                column: Identifier {\n                    value: \"description\",\n                    span: 33..44,\n                },\n                new_column: Identifier {\n                    value: \"desc\",\n                    span: 45..49,\n                },\n                definition: DataType {\n                    identifier: 50..54,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            55..63,\n                        ),\n                    ],\n                },\n                first: None,\n                after: Some(\n                    (\n                        64..69,\n                        Identifier {\n                            value: \"total_count\",\n                            span: 70..81,\n                        },\n                    ),\n                ),\n            },\n        ],\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"'desc' is a reserved identifier use `desc`\",\n    span: 45..49,\n    sql_segment: \"desc\",\n    fragments: [],\n}"
    ],
    "failure": true
  },
  {
    "input": "ALTER TABLE orders CHANGE COLUMN description desc TEXT NOT NULL FIRST",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Change {\n                change_span: 19..25,\n                column_span: Some(\n                    26..32,\n                ),\n                column: Identifier {\n                    value: \"description\",\n                    span: 33..44,\n                },\n                new_column: Identifier {\n                    value: \"desc\",\n                    span: 45..49,\n                },\n                definition: DataType {\n                    identifier: 50..54,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            55..63,\n                        ),\n                    ],\n                },\n                first: Some(\n                    64..69,\n                ),\n                after: None,\n            },\n        ],\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"'desc' is a reserved identifier use `desc`\",\n    span: 45..49,\n    sql_segment: \"desc\",\n    fragments: [],\n}"
    ],
    "failure": true
  },
  {
    "input": "ALTER TABLE orders CHANGE description desc TEXT NOT NULL",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Change {\n                change_span: 19..25,\n                column_span: None,\n                column: Identifier {\n                    value: \"description\",\n                    span: 26..37,\n                },\n                new_column: Identifier {\n                    value: \"desc\",\n                    span: 38..42,\n                },\n                definition: DataType {\n                    identifier: 43..47,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            48..56,\n                        ),\n                    ],\n                },\n                first: None,\n                after: None,\n            },\n        ],\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"'desc' is a reserved identifier use `desc`\",\n    span: 38..42,\n    sql_segment: \"desc\",\n    fragments: [],\n}"
    ],
    "failure": true
  },
  {
    "input": "ALTER TABLE orders CHANGE description desc TEXT NOT NULL AFTER total_count",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Change {\n                change_span: 19..25,\n                column_span: None,\n                column: Identifier {\n                    value: \"description\",\n                    span: 26..37,\n                },\n                new_column: Identifier {\n                    value: \"desc\",\n                    span: 38..42,\n                },\n                definition: DataType {\n                    identifier: 43..47,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            48..56,\n                        ),\n                    ],\n                },\n                first: None,\n                after: Some(\n                    (\n                        57..62,\n                        Identifier {\n                            value: \"total_count\",\n                            span: 63..74,\n                        },\n                    ),\n                ),\n            },\n        ],\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"'desc' is a reserved identifier use `desc`\",\n    span: 38..42,\n    sql_segment: \"desc\",\n    fragments: [],\n}"
    ],
    "failure": true
  },
  {
    "input": "ALTER TABLE orders CHANGE description desc TEXT NOT NULL FIRST",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Change {\n                change_span: 19..25,\n                column_span: None,\n                column: Identifier {\n                    value: \"description\",\n                    span: 26..37,\n                },\n                new_column: Identifier {\n                    value: \"desc\",\n                    span: 38..42,\n                },\n                definition: DataType {\n                    identifier: 43..47,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            48..56,\n                        ),\n                    ],\n                },\n                first: Some(\n                    57..62,\n                ),\n                after: None,\n            },\n        ],\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"'desc' is a reserved identifier use `desc`\",\n    span: 38..42,\n    sql_segment: \"desc\",\n    fragments: [],\n}"
    ],
    "failure": true
  },
  {
    "input": "ALTER TABLE orders MODIFY COLUMN description TEXT NOT NULL",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Modify {\n                modify_span: 19..32,\n                if_exists: None,\n                col: Identifier {\n                    value: \"description\",\n                    span: 33..44,\n                },\n                definition: DataType {\n                    identifier: 45..49,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            50..58,\n                        ),\n                    ],\n                },\n                first: None,\n                after: None,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE orders MODIFY COLUMN description TEXT NOT NULL AFTER foo",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Modify {\n                modify_span: 19..32,\n                if_exists: None,\n                col: Identifier {\n                    value: \"description\",\n                    span: 33..44,\n                },\n                definition: DataType {\n                    identifier: 45..49,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            50..58,\n                        ),\n                    ],\n                },\n                first: None,\n                after: Some(\n                    (\n                        59..64,\n                        Identifier {\n                            value: \"foo\",\n                            span: 65..68,\n                        },\n                    ),\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE orders MODIFY COLUMN description TEXT NOT NULL AFTER total_count",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Modify {\n                modify_span: 19..32,\n                if_exists: None,\n                col: Identifier {\n                    value: \"description\",\n                    span: 33..44,\n                },\n                definition: DataType {\n                    identifier: 45..49,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            50..58,\n                        ),\n                    ],\n                },\n                first: None,\n                after: Some(\n                    (\n                        59..64,\n                        Identifier {\n                            value: \"total_count\",\n                            span: 65..76,\n                        },\n                    ),\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE orders MODIFY COLUMN description TEXT NOT NULL FIRST",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Modify {\n                modify_span: 19..32,\n                if_exists: None,\n                col: Identifier {\n                    value: \"description\",\n                    span: 33..44,\n                },\n                definition: DataType {\n                    identifier: 45..49,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            50..58,\n                        ),\n                    ],\n                },\n                first: Some(\n                    59..64,\n                ),\n                after: None,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE orders MODIFY description TEXT NOT NULL",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Modify {\n                modify_span: 19..25,\n                if_exists: None,\n                col: Identifier {\n                    value: \"description\",\n                    span: 26..37,\n                },\n                definition: DataType {\n                    identifier: 38..42,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            43..51,\n                        ),\n                    ],\n                },\n                first: None,\n                after: None,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE orders MODIFY description TEXT NOT NULL AFTER total_count",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Modify {\n                modify_span: 19..25,\n                if_exists: None,\n                col: Identifier {\n                    value: \"description\",\n                    span: 26..37,\n                },\n                definition: DataType {\n                    identifier: 38..42,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            43..51,\n                        ),\n                    ],\n                },\n                first: None,\n                after: Some(\n                    (\n                        52..57,\n                        Identifier {\n                            value: \"total_count\",\n                            span: 58..69,\n                        },\n                    ),\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE orders MODIFY description TEXT NOT NULL FIRST",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 12..18,\n            },\n        },\n        alter_specifications: [\n            Modify {\n                modify_span: 19..25,\n                if_exists: None,\n                col: Identifier {\n                    value: \"description\",\n                    span: 26..37,\n                },\n                definition: DataType {\n                    identifier: 38..42,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            43..51,\n                        ),\n                    ],\n                },\n                first: Some(\n                    52..57,\n                ),\n                after: None,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab ADD COLUMN a TEXT FIRST, ADD COLUMN b INT AFTER foo",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            AddColumn {\n                add_span: 16..19,\n                if_not_exists_span: None,\n                identifier: Identifier {\n                    value: \"a\",\n                    span: 27..28,\n                },\n                data_type: DataType {\n                    identifier: 29..33,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [],\n                },\n                first: Some(\n                    34..39,\n                ),\n                after: None,\n            },\n            AddColumn {\n                add_span: 41..44,\n                if_not_exists_span: None,\n                identifier: Identifier {\n                    value: \"b\",\n                    span: 52..53,\n                },\n                data_type: DataType {\n                    identifier: 54..57,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n                first: None,\n                after: Some(\n                    (\n                        58..63,\n                        Identifier {\n                            value: \"foo\",\n                            span: 64..67,\n                        },\n                    ),\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab ADD COLUMN b INT AFTER foo",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            AddColumn {\n                add_span: 16..19,\n                if_not_exists_span: None,\n                identifier: Identifier {\n                    value: \"b\",\n                    span: 27..28,\n                },\n                data_type: DataType {\n                    identifier: 29..32,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n                first: None,\n                after: Some(\n                    (\n                        33..38,\n                        Identifier {\n                            value: \"foo\",\n                            span: 39..42,\n                        },\n                    ),\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab ADD COLUMN b INT FIRST",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            AddColumn {\n                add_span: 16..19,\n                if_not_exists_span: None,\n                identifier: Identifier {\n                    value: \"b\",\n                    span: 27..28,\n                },\n                data_type: DataType {\n                    identifier: 29..32,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n                first: Some(\n                    33..38,\n                ),\n                after: None,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab ADD FULLTEXT INDEX (textcol(10))",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            AddIndex {\n                add_span: 16..19,\n                index_type: FullText(\n                    20..34,\n                ),\n                if_not_exists: None,\n                name: None,\n                constraint: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"textcol\",\n                                span: 36..43,\n                            },\n                        ),\n                        size: Some(\n                            (\n                                10,\n                                44..46,\n                            ),\n                        ),\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab ADD INDEX idx_index (textcol(10))",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            AddIndex {\n                add_span: 16..19,\n                index_type: Index(\n                    20..25,\n                ),\n                if_not_exists: None,\n                name: Some(\n                    Identifier {\n                        value: \"idx_index\",\n                        span: 26..35,\n                    },\n                ),\n                constraint: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"textcol\",\n                                span: 37..44,\n                            },\n                        ),\n                        size: Some(\n                            (\n                                10,\n                                45..47,\n                            ),\n                        ),\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab ADD PRIMARY KEY (textcol(10))",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            AddIndex {\n                add_span: 16..19,\n                index_type: Primary(\n                    20..31,\n                ),\n                if_not_exists: None,\n                name: None,\n                constraint: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"textcol\",\n                                span: 33..40,\n                            },\n                        ),\n                        size: Some(\n                            (\n                                10,\n                                41..43,\n                            ),\n                        ),\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab ADD UNIQUE KEY (textcol(10))",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            AddIndex {\n                add_span: 16..19,\n                index_type: FullText(\n                    20..30,\n                ),\n                if_not_exists: None,\n                name: None,\n                constraint: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"textcol\",\n                                span: 32..39,\n                            },\n                        ),\n                        size: Some(\n                            (\n                                10,\n                                40..42,\n                            ),\n                        ),\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab ALGORITHM = COPY",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            Algorithm {\n                algorithm_span: 16..25,\n                algorithm: Copy(\n                    28..32,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab AUTO_INCREMENT = 42",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            AutoIncrement {\n                auto_increment_span: 16..30,\n                value_span: 33..35,\n                value: 42,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab DROP FOREIGN KEY foo_ibfk_1",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            DropForeignKey {\n                drop_foreign_key_span: 16..43,\n                name: Identifier {\n                    value: \"foo_ibfk_1\",\n                    span: 33..43,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab DROP INDEX idx_index",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            DropIndex {\n                drop_index_span: 16..36,\n                name: Identifier {\n                    value: \"idx_index\",\n                    span: 27..36,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab DROP PRIMARY KEY",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            DropPrimaryKey {\n                drop_primary_key_span: 16..32,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE tab LOCK = SHARED",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tab\",\n                span: 12..15,\n            },\n        },\n        alter_specifications: [\n            Lock {\n                lock_span: 16..20,\n                lock: Shared(\n                    23..29,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE users DROP COLUMN password_digest, ALGORITHM = COPY, RENAME COLUMN name TO username",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..17,\n            },\n        },\n        alter_specifications: [\n            DropColumn {\n                drop_column_span: 18..29,\n                column: Identifier {\n                    value: \"password_digest\",\n                    span: 30..45,\n                },\n                cascade: None,\n            },\n            Algorithm {\n                algorithm_span: 47..56,\n                algorithm: Copy(\n                    59..63,\n                ),\n            },\n            RenameColumn {\n                rename_column_span: 65..78,\n                old_col_name: Identifier {\n                    value: \"name\",\n                    span: 79..83,\n                },\n                to_span: 84..86,\n                new_col_name: Identifier {\n                    value: \"username\",\n                    span: 87..95,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "ALTER TABLE users DROP COLUMN password_digest, LOCK = EXCLUSIVE, RENAME COLUMN name TO username",
    "output": "AlterTable(\n    AlterTable {\n        alter_span: 0..5,\n        online: None,\n        ignore: None,\n        table_span: 6..11,\n        if_exists: None,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"users\",\n                span: 12..17,\n            },\n        },\n        alter_specifications: [\n            DropColumn {\n                drop_column_span: 18..29,\n                column: Identifier {\n                    value: \"password_digest\",\n                    span: 30..45,\n                },\n                cascade: None,\n            },\n            Lock {\n                lock_span: 47..51,\n                lock: Exclusive(\n                    54..63,\n                ),\n            },\n            RenameColumn {\n                rename_column_span: 65..78,\n                old_col_name: Identifier {\n                    value: \"name\",\n                    span: 79..83,\n                },\n                to_span: 84..86,\n                new_col_name: Identifier {\n                    value: \"username\",\n                    span: 87..95,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE ALGORITHM = MERGE VIEW foo AS SELECT 1",
    "output": "CreateView(\n    CreateView {\n        create_span: 0..6,\n        create_options: [\n            Algorithm(\n                7..16,\n                Merge(\n                    19..24,\n                ),\n            ),\n        ],\n        view_span: 25..29,\n        if_not_exists: None,\n        name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 30..33,\n            },\n        },\n        as_span: 34..36,\n        select: Select(\n            Select {\n                select_span: 37..43,\n                flags: [],\n                select_exprs: [\n                    SelectExpr {\n                        expr: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 44..45,\n                            },\n                        ),\n                        as_: None,\n                    },\n                ],\n                from_span: None,\n                table_references: None,\n                where_: None,\n                group_by: None,\n                having: None,\n                window_span: None,\n                order_by: None,\n                limit: None,\n                locking: None,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE ALGORITHM = TEMPTABLE VIEW foo AS SELECT 1",
    "output": "CreateView(\n    CreateView {\n        create_span: 0..6,\n        create_options: [\n            Algorithm(\n                7..16,\n                TempTable(\n                    19..28,\n                ),\n            ),\n        ],\n        view_span: 29..33,\n        if_not_exists: None,\n        name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 34..37,\n            },\n        },\n        as_span: 38..40,\n        select: Select(\n            Select {\n                select_span: 41..47,\n                flags: [],\n                select_exprs: [\n                    SelectExpr {\n                        expr: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 48..49,\n                            },\n                        ),\n                        as_: None,\n                    },\n                ],\n                from_span: None,\n                table_references: None,\n                where_: None,\n                group_by: None,\n                having: None,\n                window_span: None,\n                order_by: None,\n                limit: None,\n                locking: None,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE ALGORITHM = UNDEFINED DEFINER = `root`@`%` SQL SECURITY INVOKER VIEW foo AS SELECT 1",
    "output": "CreateView(\n    CreateView {\n        create_span: 0..6,\n        create_options: [\n            Algorithm(\n                7..16,\n                Undefined(\n                    19..28,\n                ),\n            ),\n            Definer {\n                definer_span: 29..36,\n                user: Identifier {\n                    value: \"root\",\n                    span: 39..45,\n                },\n                host: Identifier {\n                    value: \"%\",\n                    span: 46..49,\n                },\n            },\n            SqlSecurityInvoker(\n                50..62,\n                63..70,\n            ),\n        ],\n        view_span: 71..75,\n        if_not_exists: None,\n        name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 76..79,\n            },\n        },\n        as_span: 80..82,\n        select: Select(\n            Select {\n                select_span: 83..89,\n                flags: [],\n                select_exprs: [\n                    SelectExpr {\n                        expr: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 90..91,\n                            },\n                        ),\n                        as_: None,\n                    },\n                ],\n                from_span: None,\n                table_references: None,\n                where_: None,\n                group_by: None,\n                having: None,\n                window_span: None,\n                order_by: None,\n                limit: None,\n                locking: None,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE ALGORITHM = UNDEFINED VIEW foo AS SELECT 1",
    "output": "CreateView(\n    CreateView {\n        create_span: 0..6,\n        create_options: [\n            Algorithm(\n                7..16,\n                Undefined(\n                    19..28,\n                ),\n            ),\n        ],\n        view_span: 29..33,\n        if_not_exists: None,\n        name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 34..37,\n            },\n        },\n        as_span: 38..40,\n        select: Select(\n            Select {\n                select_span: 41..47,\n                flags: [],\n                select_exprs: [\n                    SelectExpr {\n                        expr: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 48..49,\n                            },\n                        ),\n                        as_: None,\n                    },\n                ],\n                from_span: None,\n                table_references: None,\n                where_: None,\n                group_by: None,\n                having: None,\n                window_span: None,\n                order_by: None,\n                limit: None,\n                locking: None,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE IF NOT EXISTS mydb DEFAULT CHARACTER SET utf16",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: Some(\n            16..29,\n        ),\n        name: Identifier {\n            value: \"mydb\",\n            span: 30..34,\n        },\n        create_options: [\n            CharSet {\n                identifier: 43..56,\n                default_span: Some(\n                    35..42,\n                ),\n                value: Identifier {\n                    value: \"utf16\",\n                    span: 57..62,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE IF NOT EXISTS noria DEFAULT CHARACTER SET = utf16",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: Some(\n            16..29,\n        ),\n        name: Identifier {\n            value: \"noria\",\n            span: 30..35,\n        },\n        create_options: [\n            CharSet {\n                identifier: 44..57,\n                default_span: Some(\n                    36..43,\n                ),\n                value: Identifier {\n                    value: \"utf16\",\n                    span: 60..65,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE IF NOT EXISTS noria DEFAULT CHARACTER SET utf16",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: Some(\n            16..29,\n        ),\n        name: Identifier {\n            value: \"noria\",\n            span: 30..35,\n        },\n        create_options: [\n            CharSet {\n                identifier: 44..57,\n                default_span: Some(\n                    36..43,\n                ),\n                value: Identifier {\n                    value: \"utf16\",\n                    span: 58..63,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb CHARACTER SET =",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'identifier' here\",\n    span: 36..36,\n    sql_segment: \"\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE DATABASE mydb CHARACTER SET utf8mb4",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            CharSet {\n                identifier: 21..34,\n                default_span: None,\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 35..42,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb CHARSET",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'identifier' here\",\n    span: 28..28,\n    sql_segment: \"\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE DATABASE mydb CHARSET utf8mb4",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            CharSet {\n                identifier: 21..28,\n                default_span: None,\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 29..36,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb COLLATE utf8mb4_unicode_ci",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            Collate {\n                identifier: 21..28,\n                default_span: None,\n                value: Identifier {\n                    value: \"utf8mb4_unicode_ci\",\n                    span: 29..47,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb COLLATE utf8mb4_unicode_ci CHARACTER SET utf8mb4",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            Collate {\n                identifier: 21..28,\n                default_span: None,\n                value: Identifier {\n                    value: \"utf8mb4_unicode_ci\",\n                    span: 29..47,\n                },\n            },\n            CharSet {\n                identifier: 48..61,\n                default_span: None,\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 62..69,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb DEFAULT CHARACTER SET",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'identifier' here\",\n    span: 42..42,\n    sql_segment: \"\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE DATABASE mydb DEFAULT CHARACTER SET = utf8mb4",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            CharSet {\n                identifier: 29..42,\n                default_span: Some(\n                    21..28,\n                ),\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 45..52,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb DEFAULT CHARACTER SET utf8mb4",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            CharSet {\n                identifier: 29..42,\n                default_span: Some(\n                    21..28,\n                ),\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 43..50,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb DEFAULT CHARACTER SET utf8mb4 DEFAULT COLLATE utf8mb4_unicode_ci",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            CharSet {\n                identifier: 29..42,\n                default_span: Some(\n                    21..28,\n                ),\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 43..50,\n                },\n            },\n            Collate {\n                identifier: 59..66,\n                default_span: Some(\n                    51..58,\n                ),\n                value: Identifier {\n                    value: \"utf8mb4_unicode_ci\",\n                    span: 67..85,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb DEFAULT CHARSET utf8mb4",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            CharSet {\n                identifier: 29..36,\n                default_span: Some(\n                    21..28,\n                ),\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 37..44,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb DEFAULT COLLATE",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'identifier' here\",\n    span: 36..36,\n    sql_segment: \"\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE DATABASE mydb DEFAULT COLLATE utf8mb4_unicode_ci",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            Collate {\n                identifier: 29..36,\n                default_span: Some(\n                    21..28,\n                ),\n                value: Identifier {\n                    value: \"utf8mb4_unicode_ci\",\n                    span: 37..55,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DATABASE mydb DEFAULT COLLATE utf8mb4_unicode_ci DEFAULT CHARACTER SET utf8mb4",
    "output": "CreateDatabase(\n    CreateDatabase {\n        create_span: 0..6,\n        database_span: 7..15,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mydb\",\n            span: 16..20,\n        },\n        create_options: [\n            Collate {\n                identifier: 29..36,\n                default_span: Some(\n                    21..28,\n                ),\n                value: Identifier {\n                    value: \"utf8mb4_unicode_ci\",\n                    span: 37..55,\n                },\n            },\n            CharSet {\n                identifier: 64..77,\n                default_span: Some(\n                    56..63,\n                ),\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 78..85,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE DEFINER = 'jeffrey'@'localhost' VIEW foo AS SELECT 1",
    "output": "CreateView(\n    CreateView {\n        create_span: 0..6,\n        create_options: [\n            Definer {\n                definer_span: 7..14,\n                user: Identifier {\n                    value: \"jeffrey\",\n                    span: 17..26,\n                },\n                host: Identifier {\n                    value: \"localhost\",\n                    span: 27..38,\n                },\n            },\n        ],\n        view_span: 39..43,\n        if_not_exists: None,\n        name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 44..47,\n            },\n        },\n        as_span: 48..50,\n        select: Select(\n            Select {\n                select_span: 51..57,\n                flags: [],\n                select_exprs: [\n                    SelectExpr {\n                        expr: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 58..59,\n                            },\n                        ),\n                        as_: None,\n                    },\n                ],\n                from_span: None,\n                table_references: None,\n                where_: None,\n                group_by: None,\n                having: None,\n                window_span: None,\n                order_by: None,\n                limit: None,\n                locking: None,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE INDEX idx_index ON t((col COLLATE utf8mb4_bin) DESC)",
    "output": "CreateIndex(\n    CreateIndex {\n        create_span: 0..6,\n        create_options: [],\n        index_span: 7..12,\n        index_name: Some(\n            Identifier {\n                value: \"idx_index\",\n                span: 13..22,\n            },\n        ),\n        if_not_exists: None,\n        on_span: 23..25,\n        table_name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 26..27,\n            },\n        },\n        index_options: [],\n        l_paren_span: 27..28,\n        column_names: [\n            IndexCol {\n                expr: Expression(\n                    Binary(\n                        BinaryExpression {\n                            op: Collate,\n                            op_span: 33..40,\n                            lhs: Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"col\",\n                                                span: 29..32,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                            rhs: Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"utf8mb4_bin\",\n                                                span: 41..52,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        },\n                    ),\n                ),\n                size: None,\n                opclass: None,\n                asc: None,\n                desc: Some(\n                    54..58,\n                ),\n            },\n        ],\n        r_paren_span: 58..59,\n        include_clause: None,\n        where_: None,\n        nulls_distinct: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE INDEX idx_index ON t(textcol(10))",
    "output": "CreateIndex(\n    CreateIndex {\n        create_span: 0..6,\n        create_options: [],\n        index_span: 7..12,\n        index_name: Some(\n            Identifier {\n                value: \"idx_index\",\n                span: 13..22,\n            },\n        ),\n        if_not_exists: None,\n        on_span: 23..25,\n        table_name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 26..27,\n            },\n        },\n        index_options: [],\n        l_paren_span: 27..28,\n        column_names: [\n            IndexCol {\n                expr: Column(\n                    Identifier {\n                        value: \"textcol\",\n                        span: 28..35,\n                    },\n                ),\n                size: Some(\n                    (\n                        10,\n                        36..38,\n                    ),\n                ),\n                opclass: None,\n                asc: None,\n                desc: None,\n            },\n        ],\n        r_paren_span: 39..40,\n        include_clause: None,\n        where_: None,\n        nulls_distinct: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE INDEX idx_name ON t(c1, c2) USING BTREE ALGORITHM = INPLACE",
    "output": "CreateIndex(\n    CreateIndex {\n        create_span: 0..6,\n        create_options: [],\n        index_span: 7..12,\n        index_name: Some(\n            Identifier {\n                value: \"idx_name\",\n                span: 13..21,\n            },\n        ),\n        if_not_exists: None,\n        on_span: 22..24,\n        table_name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 25..26,\n            },\n        },\n        index_options: [\n            UsingIndex(\n                BTree(\n                    35..46,\n                ),\n            ),\n            Algorithm(\n                47..56,\n                Identifier {\n                    value: \"INPLACE\",\n                    span: 59..66,\n                },\n            ),\n        ],\n        l_paren_span: 26..27,\n        column_names: [\n            IndexCol {\n                expr: Column(\n                    Identifier {\n                        value: \"c1\",\n                        span: 27..29,\n                    },\n                ),\n                size: None,\n                opclass: None,\n                asc: None,\n                desc: None,\n            },\n            IndexCol {\n                expr: Column(\n                    Identifier {\n                        value: \"c2\",\n                        span: 31..33,\n                    },\n                ),\n                size: None,\n                opclass: None,\n                asc: None,\n                desc: None,\n            },\n        ],\n        r_paren_span: 33..34,\n        include_clause: None,\n        where_: None,\n        nulls_distinct: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE INDEX idx_name ON t(c1, c2) USING BTREE LOCK = EXCLUSIVE ALGORITHM = DEFAULT",
    "output": "CreateIndex(\n    CreateIndex {\n        create_span: 0..6,\n        create_options: [],\n        index_span: 7..12,\n        index_name: Some(\n            Identifier {\n                value: \"idx_name\",\n                span: 13..21,\n            },\n        ),\n        if_not_exists: None,\n        on_span: 22..24,\n        table_name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 25..26,\n            },\n        },\n        index_options: [\n            UsingIndex(\n                BTree(\n                    35..46,\n                ),\n            ),\n            Lock(\n                47..51,\n                Identifier {\n                    value: \"EXCLUSIVE\",\n                    span: 54..63,\n                },\n            ),\n            Algorithm(\n                64..73,\n                Identifier {\n                    value: \"DEFAULT\",\n                    span: 76..83,\n                },\n            ),\n        ],\n        l_paren_span: 26..27,\n        column_names: [\n            IndexCol {\n                expr: Column(\n                    Identifier {\n                        value: \"c1\",\n                        span: 27..29,\n                    },\n                ),\n                size: None,\n                opclass: None,\n                asc: None,\n                desc: None,\n            },\n            IndexCol {\n                expr: Column(\n                    Identifier {\n                        value: \"c2\",\n                        span: 31..33,\n                    },\n                ),\n                size: None,\n                opclass: None,\n                asc: None,\n                desc: None,\n            },\n        ],\n        r_paren_span: 33..34,\n        include_clause: None,\n        where_: None,\n        nulls_distinct: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE INDEX idx_name ON t(c1, c2) USING HASH LOCK = SHARED",
    "output": "CreateIndex(\n    CreateIndex {\n        create_span: 0..6,\n        create_options: [],\n        index_span: 7..12,\n        index_name: Some(\n            Identifier {\n                value: \"idx_name\",\n                span: 13..21,\n            },\n        ),\n        if_not_exists: None,\n        on_span: 22..24,\n        table_name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 25..26,\n            },\n        },\n        index_options: [\n            UsingIndex(\n                Hash(\n                    35..45,\n                ),\n            ),\n            Lock(\n                46..50,\n                Identifier {\n                    value: \"SHARED\",\n                    span: 53..59,\n                },\n            ),\n        ],\n        l_paren_span: 26..27,\n        column_names: [\n            IndexCol {\n                expr: Column(\n                    Identifier {\n                        value: \"c1\",\n                        span: 27..29,\n                    },\n                ),\n                size: None,\n                opclass: None,\n                asc: None,\n                desc: None,\n            },\n            IndexCol {\n                expr: Column(\n                    Identifier {\n                        value: \"c2\",\n                        span: 31..33,\n                    },\n                ),\n                size: None,\n                opclass: None,\n                asc: None,\n                desc: None,\n            },\n        ],\n        r_paren_span: 33..34,\n        include_clause: None,\n        where_: None,\n        nulls_distinct: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE INDEX idx_name ON test {using} {columns}",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected ''('' here\",\n    span: 30..31,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE INDEX idx_name ON test{columns} {using}",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected ''('' here\",\n    span: 29..30,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE SQL SECURITY DEFINER VIEW foo AS SELECT 1",
    "output": "CreateView(\n    CreateView {\n        create_span: 0..6,\n        create_options: [\n            SqlSecurityDefiner(\n                7..19,\n                20..27,\n            ),\n        ],\n        view_span: 28..32,\n        if_not_exists: None,\n        name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 33..36,\n            },\n        },\n        as_span: 37..39,\n        select: Select(\n            Select {\n                select_span: 40..46,\n                flags: [],\n                select_exprs: [\n                    SelectExpr {\n                        expr: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 47..48,\n                            },\n                        ),\n                        as_: None,\n                    },\n                ],\n                from_span: None,\n                table_references: None,\n                where_: None,\n                group_by: None,\n                having: None,\n                window_span: None,\n                order_by: None,\n                limit: None,\n                locking: None,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE SQL SECURITY INVOKER VIEW foo AS SELECT 1",
    "output": "CreateView(\n    CreateView {\n        create_span: 0..6,\n        create_options: [\n            SqlSecurityInvoker(\n                7..19,\n                20..27,\n            ),\n        ],\n        view_span: 28..32,\n        if_not_exists: None,\n        name: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 33..36,\n            },\n        },\n        as_span: 37..39,\n        select: Select(\n            Select {\n                select_span: 40..46,\n                flags: [],\n                select_exprs: [\n                    SelectExpr {\n                        expr: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 47..48,\n                            },\n                        ),\n                        as_: None,\n                    },\n                ],\n                from_span: None,\n                table_references: None,\n                where_: None,\n                group_by: None,\n                having: None,\n                window_span: None,\n                order_by: None,\n                limit: None,\n                locking: None,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE `PRIMARY` (`BEGIN` INT PRIMARY KEY)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"PRIMARY\",\n                span: 13..22,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"BEGIN\",\n                    span: 24..31,\n                },\n                data_type: DataType {\n                    identifier: 32..35,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        PrimaryKey(\n                            36..47,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (`modification_time` DATETIME ON UPDATE CURRENT_TIMESTAMP())",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"modification_time\",\n                    span: 18..37,\n                },\n                data_type: DataType {\n                    identifier: 38..46,\n                    type_: DateTime(\n                        None,\n                    ),\n                    properties: [\n                        OnUpdate(\n                            (\n                                47..56,\n                                Function(\n                                    FunctionCallExpression {\n                                        function: CurrentTimestamp,\n                                        args: [],\n                                        function_span: 57..74,\n                                    },\n                                ),\n                            ),\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar DOUBLE(11, 0))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..28,\n                    type_: Double(\n                        Some(\n                            (\n                                11,\n                                0,\n                                28..35,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar DOUBLE(11,0))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..28,\n                    type_: Double(\n                        Some(\n                            (\n                                11,\n                                0,\n                                28..34,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar DOUBLE)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..28,\n                    type_: Double(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT NOT NULL AUTO_INCREMENT) ENGINE = InnoDB AUTO_INCREMENT = 123",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            26..34,\n                        ),\n                        AutoIncrement(\n                            35..49,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [\n            Engine {\n                identifier: 51..57,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 60..66,\n                },\n            },\n            AutoIncrement {\n                identifier: 67..81,\n                value: (\n                    123,\n                    84..87,\n                ),\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT NOT NULL AUTO_INCREMENT) ENGINE = InnoDB AUTO_INCREMENT = 123 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci INSERT_METHOD = FIRST KEY_BLOCK_SIZE = 8 ROW_FORMAT = DYNAMIC DATA DIRECTORY = '/var/lib/mysql/data' INDEX DIRECTORY = '/var/lib/mysql/index' PACK_KEYS = 1 STATS_AUTO_RECALC = 1 STATS_PERSISTENT = 0 STATS_SAMPLE_PAGES = 128 DELAY_KEY_WRITE = 1 COMPRESSION = 'ZLIB' ENCRYPTION = 'Y' MAX_ROWS = 10000 MIN_ROWS = 10 AUTOEXTEND_SIZE = 64 AVG_ROW_LENGTH = 128 CHECKSUM = 1 CONNECTION = 'mysql://localhost' ENGINE_ATTRIBUTE = 'primary' PASSWORD = 'secure_password' SECONDARY_ENGINE_ATTRIBUTE = 'secondary_attr' START TRANSACTION TABLESPACE my_tablespace STORAGE DISK UNION = (table1, table2, table3)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            26..34,\n                        ),\n                        AutoIncrement(\n                            35..49,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [\n            Engine {\n                identifier: 51..57,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 60..66,\n                },\n            },\n            AutoIncrement {\n                identifier: 67..81,\n                value: (\n                    123,\n                    84..87,\n                ),\n            },\n            DefaultCharSet {\n                identifier: 88..103,\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 106..113,\n                },\n            },\n            Collate {\n                identifier: 114..121,\n                value: Identifier {\n                    value: \"utf8mb4_0900_ai_ci\",\n                    span: 124..142,\n                },\n            },\n            InsertMethod {\n                identifier: 143..156,\n                value: Identifier {\n                    value: \"FIRST\",\n                    span: 159..164,\n                },\n            },\n            KeyBlockSize {\n                identifier: 165..179,\n                value: (\n                    8,\n                    182..183,\n                ),\n            },\n            RowFormat {\n                identifier: 184..194,\n                value: Identifier {\n                    value: \"DYNAMIC\",\n                    span: 197..204,\n                },\n            },\n            DataDirectory {\n                identifier: 205..219,\n                value: SString {\n                    value: \"/var/lib/mysql/data\",\n                    span: 222..243,\n                },\n            },\n            IndexDirectory {\n                identifier: 244..259,\n                value: SString {\n                    value: \"/var/lib/mysql/index\",\n                    span: 262..284,\n                },\n            },\n            PackKeys {\n                identifier: 285..294,\n                value: (\n                    1,\n                    297..298,\n                ),\n            },\n            StatsAutoRecalc {\n                identifier: 299..316,\n                value: (\n                    1,\n                    319..320,\n                ),\n            },\n            StatsPersistent {\n                identifier: 321..337,\n                value: (\n                    0,\n                    340..341,\n                ),\n            },\n            StatsSamplePages {\n                identifier: 342..360,\n                value: (\n                    128,\n                    363..366,\n                ),\n            },\n            DelayKeyWrite {\n                identifier: 367..382,\n                value: (\n                    true,\n                    385..386,\n                ),\n            },\n            Compression {\n                identifier: 387..398,\n                value: SString {\n                    value: \"ZLIB\",\n                    span: 401..407,\n                },\n            },\n            Encryption {\n                identifier: 408..418,\n                value: (\n                    true,\n                    421..424,\n                ),\n            },\n            MaxRows {\n                identifier: 425..433,\n                value: (\n                    10000,\n                    436..441,\n                ),\n            },\n            MinRows {\n                identifier: 442..450,\n                value: (\n                    10,\n                    453..455,\n                ),\n            },\n            AutoExtendSize {\n                identifier: 456..471,\n                value: (\n                    64,\n                    474..476,\n                ),\n            },\n            AvgRowLength {\n                identifier: 477..491,\n                value: (\n                    128,\n                    494..497,\n                ),\n            },\n            Checksum {\n                identifier: 498..506,\n                value: (\n                    true,\n                    509..510,\n                ),\n            },\n            Connection {\n                identifier: 511..521,\n                value: SString {\n                    value: \"mysql://localhost\",\n                    span: 524..543,\n                },\n            },\n            EngineAttribute {\n                identifier: 544..560,\n                value: SString {\n                    value: \"primary\",\n                    span: 563..572,\n                },\n            },\n            Password {\n                identifier: 573..581,\n                value: SString {\n                    value: \"secure_password\",\n                    span: 584..601,\n                },\n            },\n            SecondaryEngineAttribute {\n                identifier: 602..628,\n                value: SString {\n                    value: \"secondary_attr\",\n                    span: 631..647,\n                },\n            },\n            StartTransaction {\n                identifier: 648..665,\n            },\n            Tablespace {\n                identifier: 666..676,\n                value: Identifier {\n                    value: \"my_tablespace\",\n                    span: 677..690,\n                },\n            },\n            Storage {\n                identifier: 691..698,\n                value: Identifier {\n                    value: \"DISK\",\n                    span: 699..703,\n                },\n            },\n            Union {\n                identifier: 704..709,\n                value: [\n                    Identifier {\n                        value: \"table1\",\n                        span: 713..719,\n                    },\n                    Identifier {\n                        value: \"table2\",\n                        span: 721..727,\n                    },\n                    Identifier {\n                        value: \"table3\",\n                        span: 729..735,\n                    },\n                ],\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT PRIMARY KEY AUTO_INCREMENT)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        PrimaryKey(\n                            26..37,\n                        ),\n                        AutoIncrement(\n                            38..52,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT) COMMENT 'baz'",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            Comment {\n                identifier: 27..34,\n                value: SString {\n                    value: \"baz\",\n                    span: 35..40,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT) COMMENT = 'baz'",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            Comment {\n                identifier: 27..34,\n                value: SString {\n                    value: \"baz\",\n                    span: 37..42,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT, CONSTRAINT constr INDEX index (bar))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: Some(\n                    27..37,\n                ),\n                constraint_symbol: Some(\n                    Identifier {\n                        value: \"constr\",\n                        span: 38..44,\n                    },\n                ),\n                index_type: Index(\n                    45..50,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"index\",\n                        span: 51..56,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"bar\",\n                                span: 58..61,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT, INDEX index (bar))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    27..32,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"index\",\n                        span: 33..38,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"bar\",\n                                span: 40..43,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT, PRIMARY KEY index_name USING BTREE (bar) USING HASH)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Primary(\n                    27..38,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"index_name\",\n                        span: 39..49,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"bar\",\n                                span: 63..66,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [\n                    IndexTypeBTree(\n                        56..61,\n                    ),\n                    IndexTypeHash(\n                        74..78,\n                    ),\n                ],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT, UNIQUE INDEX index_name USING BTREE (bar) USING HASH)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Unique(\n                    27..39,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"index_name\",\n                        span: 40..50,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"bar\",\n                                span: 64..67,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [\n                    IndexTypeBTree(\n                        57..62,\n                    ),\n                    IndexTypeHash(\n                        75..79,\n                    ),\n                ],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar INT, var INT, CONSTRAINT constr {key_ty} index_name (bar, var) USING HASH COMMENT 'yes, ' USING BTREE COMMENT 'MySQL allows')",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"var\",\n                    span: 27..30,\n                },\n                data_type: DataType {\n                    identifier: 31..34,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'identifier' here\",\n    span: 54..55,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TABLE foo (bar INT, {key_ty} index_name USING BTREE (bar) USING HASH)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'identifier' here\",\n    span: 27..28,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TABLE foo (bar LONGBLOB)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..30,\n                    type_: LongBlob(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar LONGTEXT)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..30,\n                    type_: LongText(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar MEDIUMBLOB)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..32,\n                    type_: MediumBlob(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar MEDIUMTEXT)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..32,\n                    type_: MediumText(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar SET('a', 'b'), baz ENUM('a', 'b'))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..25,\n                    type_: Set(\n                        [\n                            SString {\n                                value: \"a\",\n                                span: 26..29,\n                            },\n                            SString {\n                                value: \"b\",\n                                span: 31..34,\n                            },\n                        ],\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"baz\",\n                    span: 37..40,\n                },\n                data_type: DataType {\n                    identifier: 41..45,\n                    type_: Enum(\n                        [\n                            SString {\n                                value: \"a\",\n                                span: 46..49,\n                            },\n                            SString {\n                                value: \"b\",\n                                span: 51..54,\n                            },\n                        ],\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar TINYBLOB)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..30,\n                    type_: TinyBlob(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar TINYTEXT)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 18..21,\n                },\n                data_type: DataType {\n                    identifier: 22..30,\n                    type_: TinyText(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar_decimal DECIMAL UNSIGNED, bar_decimal_prec DECIMAL(10) UNSIGNED, bar_decimal_scale DECIMAL(10,2) UNSIGNED, bar_dec DEC UNSIGNED, bar_dec_prec DEC(10) UNSIGNED, bar_dec_scale DEC(10,2) UNSIGNED, bar_float FLOAT UNSIGNED, bar_float_prec FLOAT(10) UNSIGNED, bar_float_scale FLOAT(10,2) UNSIGNED, bar_double DOUBLE UNSIGNED, bar_double_prec DOUBLE(10) UNSIGNED, bar_double_scale DOUBLE(10,2) UNSIGNED, bar_real REAL UNSIGNED, bar_double_precision DOUBLE PRECISION UNSIGNED)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_decimal\",\n                    span: 18..29,\n                },\n                data_type: DataType {\n                    identifier: 30..37,\n                    type_: Decimal(\n                        None,\n                    ),\n                    properties: [\n                        Unsigned(\n                            38..46,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_decimal_prec\",\n                    span: 48..64,\n                },\n                data_type: DataType {\n                    identifier: 65..72,\n                    type_: Decimal(\n                        Some(\n                            (\n                                10,\n                                0,\n                                72..76,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            77..85,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_decimal_scale\",\n                    span: 87..104,\n                },\n                data_type: DataType {\n                    identifier: 105..112,\n                    type_: Decimal(\n                        Some(\n                            (\n                                10,\n                                2,\n                                112..118,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            119..127,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_dec\",\n                    span: 129..136,\n                },\n                data_type: DataType {\n                    identifier: 137..140,\n                    type_: Decimal(\n                        None,\n                    ),\n                    properties: [\n                        Unsigned(\n                            141..149,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_dec_prec\",\n                    span: 151..163,\n                },\n                data_type: DataType {\n                    identifier: 164..167,\n                    type_: Decimal(\n                        Some(\n                            (\n                                10,\n                                0,\n                                167..171,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            172..180,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_dec_scale\",\n                    span: 182..195,\n                },\n                data_type: DataType {\n                    identifier: 196..199,\n                    type_: Decimal(\n                        Some(\n                            (\n                                10,\n                                2,\n                                199..205,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            206..214,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_float\",\n                    span: 216..225,\n                },\n                data_type: DataType {\n                    identifier: 226..231,\n                    type_: Float(\n                        None,\n                    ),\n                    properties: [\n                        Unsigned(\n                            232..240,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_float_prec\",\n                    span: 242..256,\n                },\n                data_type: DataType {\n                    identifier: 257..262,\n                    type_: Float(\n                        Some(\n                            (\n                                10,\n                                0,\n                                262..266,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            267..275,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_float_scale\",\n                    span: 277..292,\n                },\n                data_type: DataType {\n                    identifier: 293..298,\n                    type_: Float(\n                        Some(\n                            (\n                                10,\n                                2,\n                                298..304,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            305..313,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_double\",\n                    span: 315..325,\n                },\n                data_type: DataType {\n                    identifier: 326..332,\n                    type_: Double(\n                        None,\n                    ),\n                    properties: [\n                        Unsigned(\n                            333..341,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_double_prec\",\n                    span: 343..358,\n                },\n                data_type: DataType {\n                    identifier: 359..365,\n                    type_: Double(\n                        Some(\n                            (\n                                10,\n                                0,\n                                365..369,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            370..378,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_double_scale\",\n                    span: 380..396,\n                },\n                data_type: DataType {\n                    identifier: 397..403,\n                    type_: Double(\n                        Some(\n                            (\n                                10,\n                                2,\n                                403..409,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            410..418,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_real\",\n                    span: 420..428,\n                },\n                data_type: DataType {\n                    identifier: 429..433,\n                    type_: Float(\n                        None,\n                    ),\n                    properties: [\n                        Unsigned(\n                            434..442,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_double_precision\",\n                    span: 444..464,\n                },\n                data_type: DataType {\n                    identifier: 465..481,\n                    type_: Double(\n                        None,\n                    ),\n                    properties: [\n                        Unsigned(\n                            482..490,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar_tinyint TINYINT(3) SIGNED, bar_smallint SMALLINT(5) SIGNED, bar_mediumint MEDIUMINT(13) SIGNED, bar_int INT(11) SIGNED, bar_bigint BIGINT(20) SIGNED)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_tinyint\",\n                    span: 18..29,\n                },\n                data_type: DataType {\n                    identifier: 30..37,\n                    type_: TinyInt(\n                        Some(\n                            (\n                                3,\n                                38..39,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Signed(\n                            41..47,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_smallint\",\n                    span: 49..61,\n                },\n                data_type: DataType {\n                    identifier: 62..70,\n                    type_: SmallInt(\n                        Some(\n                            (\n                                5,\n                                71..72,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Signed(\n                            74..80,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_mediumint\",\n                    span: 82..95,\n                },\n                data_type: DataType {\n                    identifier: 96..105,\n                    type_: MediumInt(\n                        Some(\n                            (\n                                13,\n                                106..108,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Signed(\n                            110..116,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_int\",\n                    span: 118..125,\n                },\n                data_type: DataType {\n                    identifier: 126..129,\n                    type_: Int(\n                        Some(\n                            (\n                                11,\n                                130..132,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Signed(\n                            134..140,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_bigint\",\n                    span: 142..152,\n                },\n                data_type: DataType {\n                    identifier: 153..159,\n                    type_: BigInt(\n                        Some(\n                            (\n                                20,\n                                160..162,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Signed(\n                            164..170,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar_tinyint TINYINT(3) UNSIGNED, bar_smallint SMALLINT(5) UNSIGNED, bar_mediumint MEDIUMINT(13) UNSIGNED, bar_int INT(11) UNSIGNED, bar_bigint BIGINT(20) UNSIGNED)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_tinyint\",\n                    span: 18..29,\n                },\n                data_type: DataType {\n                    identifier: 30..37,\n                    type_: TinyInt(\n                        Some(\n                            (\n                                3,\n                                38..39,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            41..49,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_smallint\",\n                    span: 51..63,\n                },\n                data_type: DataType {\n                    identifier: 64..72,\n                    type_: SmallInt(\n                        Some(\n                            (\n                                5,\n                                73..74,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            76..84,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_mediumint\",\n                    span: 86..99,\n                },\n                data_type: DataType {\n                    identifier: 100..109,\n                    type_: MediumInt(\n                        Some(\n                            (\n                                13,\n                                110..112,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            114..122,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_int\",\n                    span: 124..131,\n                },\n                data_type: DataType {\n                    identifier: 132..135,\n                    type_: Int(\n                        Some(\n                            (\n                                11,\n                                136..138,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            140..148,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_bigint\",\n                    span: 150..160,\n                },\n                data_type: DataType {\n                    identifier: 161..167,\n                    type_: BigInt(\n                        Some(\n                            (\n                                20,\n                                168..170,\n                            ),\n                        ),\n                    ),\n                    properties: [\n                        Unsigned(\n                            172..180,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar_tinyint TINYINT(3), bar_smallint SMALLINT(5), bar_mediumint MEDIUMINT(13), bar_int INT(11), bar_bigint BIGINT(20))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_tinyint\",\n                    span: 18..29,\n                },\n                data_type: DataType {\n                    identifier: 30..37,\n                    type_: TinyInt(\n                        Some(\n                            (\n                                3,\n                                38..39,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_smallint\",\n                    span: 42..54,\n                },\n                data_type: DataType {\n                    identifier: 55..63,\n                    type_: SmallInt(\n                        Some(\n                            (\n                                5,\n                                64..65,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_mediumint\",\n                    span: 68..81,\n                },\n                data_type: DataType {\n                    identifier: 82..91,\n                    type_: MediumInt(\n                        Some(\n                            (\n                                13,\n                                92..94,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_int\",\n                    span: 97..104,\n                },\n                data_type: DataType {\n                    identifier: 105..108,\n                    type_: Int(\n                        Some(\n                            (\n                                11,\n                                109..111,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_bigint\",\n                    span: 114..124,\n                },\n                data_type: DataType {\n                    identifier: 125..131,\n                    type_: BigInt(\n                        Some(\n                            (\n                                20,\n                                132..134,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (bar_tinyint TINYINT(3), bar_smallint SMALLINT(5), bar_mediumint MEDIUMINT(6), bar_int INT(11), bar_bigint BIGINT(20))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_tinyint\",\n                    span: 18..29,\n                },\n                data_type: DataType {\n                    identifier: 30..37,\n                    type_: TinyInt(\n                        Some(\n                            (\n                                3,\n                                38..39,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_smallint\",\n                    span: 42..54,\n                },\n                data_type: DataType {\n                    identifier: 55..63,\n                    type_: SmallInt(\n                        Some(\n                            (\n                                5,\n                                64..65,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_mediumint\",\n                    span: 68..81,\n                },\n                data_type: DataType {\n                    identifier: 82..91,\n                    type_: MediumInt(\n                        Some(\n                            (\n                                6,\n                                92..93,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_int\",\n                    span: 96..103,\n                },\n                data_type: DataType {\n                    identifier: 104..107,\n                    type_: Int(\n                        Some(\n                            (\n                                11,\n                                108..110,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar_bigint\",\n                    span: 113..123,\n                },\n                data_type: DataType {\n                    identifier: 124..130,\n                    type_: BigInt(\n                        Some(\n                            (\n                                20,\n                                131..133,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (id INT PRIMARY KEY AUTO_INCREMENT, bar INT NOT NULL, CONSTRAINT bar_key {key_ty} (bar))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 18..20,\n                },\n                data_type: DataType {\n                    identifier: 21..24,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        PrimaryKey(\n                            25..36,\n                        ),\n                        AutoIncrement(\n                            37..51,\n                        ),\n                    ],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"bar\",\n                    span: 53..56,\n                },\n                data_type: DataType {\n                    identifier: 57..60,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        NotNull(\n                            61..69,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'identifier' here\",\n    span: 90..91,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TABLE foo (id INT(11)) COLLATE = utf8mb4_0900_ai_ci",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 18..20,\n                },\n                data_type: DataType {\n                    identifier: 21..24,\n                    type_: Int(\n                        Some(\n                            (\n                                11,\n                                25..27,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            Collate {\n                identifier: 30..37,\n                value: Identifier {\n                    value: \"utf8mb4_0900_ai_ci\",\n                    span: 40..58,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (id INT(11)) ENGINE = InnoDB AS SELECT 1 DEFAULT CHARSET = utf8mb3",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 18..20,\n                },\n                data_type: DataType {\n                    identifier: 21..24,\n                    type_: Int(\n                        Some(\n                            (\n                                11,\n                                25..27,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            Engine {\n                identifier: 30..36,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 39..45,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expression should not follow expression\",\n    span: 66..73,\n    sql_segment: \"CHARSET\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TABLE foo (id INT(11)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb3",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 18..20,\n                },\n                data_type: DataType {\n                    identifier: 21..24,\n                    type_: Int(\n                        Some(\n                            (\n                                11,\n                                25..27,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            Engine {\n                identifier: 30..36,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 39..45,\n                },\n            },\n            DefaultCharSet {\n                identifier: 46..61,\n                value: Identifier {\n                    value: \"utf8mb3\",\n                    span: 64..71,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (id INT(11)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb3 COLLATE = utf8mb4_0900_ai_ci AS SELECT 1",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 18..20,\n                },\n                data_type: DataType {\n                    identifier: 21..24,\n                    type_: Int(\n                        Some(\n                            (\n                                11,\n                                25..27,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            Engine {\n                identifier: 30..36,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 39..45,\n                },\n            },\n            DefaultCharSet {\n                identifier: 46..61,\n                value: Identifier {\n                    value: \"utf8mb3\",\n                    span: 64..71,\n                },\n            },\n            Collate {\n                identifier: 72..79,\n                value: Identifier {\n                    value: \"utf8mb4_0900_ai_ci\",\n                    span: 82..100,\n                },\n            },\n        ],\n        table_as: Some(\n            CreateTableAs {\n                ignore_span: None,\n                replace_span: None,\n                as_span: 101..103,\n                query: Select(\n                    Select {\n                        select_span: 104..110,\n                        flags: [],\n                        select_exprs: [\n                            SelectExpr {\n                                expr: Integer(\n                                    IntegerExpression {\n                                        value: 1,\n                                        span: 111..112,\n                                    },\n                                ),\n                                as_: None,\n                            },\n                        ],\n                        from_span: None,\n                        table_references: None,\n                        where_: None,\n                        group_by: None,\n                        having: None,\n                        window_span: None,\n                        order_by: None,\n                        limit: None,\n                        locking: None,\n                    },\n                ),\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE foo (name VARCHAR(255), age INT, KEY idx_name {columns} {using})",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"name\",\n                    span: 18..22,\n                },\n                data_type: DataType {\n                    identifier: 23..30,\n                    type_: VarChar(\n                        Some(\n                            (\n                                255,\n                                31..34,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"age\",\n                    span: 37..40,\n                },\n                data_type: DataType {\n                    identifier: 41..44,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected ''('' here\",\n    span: 59..60,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TABLE foo (name VARCHAR(255), age INT, KEY idx_name {using} {columns})",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"name\",\n                    span: 18..22,\n                },\n                data_type: DataType {\n                    identifier: 23..30,\n                    type_: VarChar(\n                        Some(\n                            (\n                                255,\n                                31..34,\n                            ),\n                        ),\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"age\",\n                    span: 37..40,\n                },\n                data_type: DataType {\n                    identifier: 41..44,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected ''('' here\",\n    span: 59..60,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TABLE foo (s TEXT CHARACTER SET utf8mb4 COMMENT 'comment')",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"foo\",\n                span: 13..16,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"s\",\n                    span: 18..19,\n                },\n                data_type: DataType {\n                    identifier: 20..24,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        Charset(\n                            Identifier {\n                                value: \"utf8mb4\",\n                                span: 39..46,\n                            },\n                        ),\n                        Comment(\n                            SString {\n                                value: \"comment\",\n                                span: 55..64,\n                            },\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE mytable (id INT) ENGINE=InnoDB ROW_FORMAT=DYNAMIC KEY_BLOCK_SIZE=8 COMMENT='abc'",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"mytable\",\n                span: 13..20,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 22..24,\n                },\n                data_type: DataType {\n                    identifier: 25..28,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            Engine {\n                identifier: 30..36,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 37..43,\n                },\n            },\n            RowFormat {\n                identifier: 44..54,\n                value: Identifier {\n                    value: \"DYNAMIC\",\n                    span: 55..62,\n                },\n            },\n            KeyBlockSize {\n                identifier: 63..77,\n                value: (\n                    8,\n                    78..79,\n                ),\n            },\n            Comment {\n                identifier: 80..87,\n                value: SString {\n                    value: \"abc\",\n                    span: 88..93,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE mytable (id INT) KEY_BLOCK_SIZE=8 COMMENT='abc' ENGINE=InnoDB ROW_FORMAT=DYNAMIC",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"mytable\",\n                span: 13..20,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 22..24,\n                },\n                data_type: DataType {\n                    identifier: 25..28,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            KeyBlockSize {\n                identifier: 30..44,\n                value: (\n                    8,\n                    45..46,\n                ),\n            },\n            Comment {\n                identifier: 47..54,\n                value: SString {\n                    value: \"abc\",\n                    span: 55..60,\n                },\n            },\n            Engine {\n                identifier: 61..67,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 68..74,\n                },\n            },\n            RowFormat {\n                identifier: 75..85,\n                value: Identifier {\n                    value: \"DYNAMIC\",\n                    span: 86..93,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE mytable (id INT) ROW_FORMAT=DYNAMIC KEY_BLOCK_SIZE=8 COMMENT='abc' ENGINE=InnoDB",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"mytable\",\n                span: 13..20,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 22..24,\n                },\n                data_type: DataType {\n                    identifier: 25..28,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            RowFormat {\n                identifier: 30..40,\n                value: Identifier {\n                    value: \"DYNAMIC\",\n                    span: 41..48,\n                },\n            },\n            KeyBlockSize {\n                identifier: 49..63,\n                value: (\n                    8,\n                    64..65,\n                ),\n            },\n            Comment {\n                identifier: 66..73,\n                value: SString {\n                    value: \"abc\",\n                    span: 74..79,\n                },\n            },\n            Engine {\n                identifier: 80..86,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 87..93,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE orders (customer_id INT, INDEX idx_customer (customer_id), CONSTRAINT fk_customer FOREIGN KEY idx_customer (customer_id) REFERENCES customers(id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"orders\",\n                span: 13..19,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"customer_id\",\n                    span: 21..32,\n                },\n                data_type: DataType {\n                    identifier: 33..36,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    38..43,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"idx_customer\",\n                        span: 44..56,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"customer_id\",\n                                span: 58..69,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n            ForeignKeyDefinition {\n                constraint_span: Some(\n                    72..82,\n                ),\n                constraint_symbol: Some(\n                    Identifier {\n                        value: \"fk_customer\",\n                        span: 83..94,\n                    },\n                ),\n                foreign_key_span: 95..106,\n                index_name: Some(\n                    Identifier {\n                        value: \"idx_customer\",\n                        span: 107..119,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"customer_id\",\n                                span: 121..132,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                references_span: 134..144,\n                references_table: Identifier {\n                    value: \"customers\",\n                    span: 145..154,\n                },\n                references_cols: [\n                    Identifier {\n                        value: \"id\",\n                        span: 155..157,\n                    },\n                ],\n                ons: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (a geometry SRID 4326)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'type' here\",\n    span: 18..26,\n    sql_segment: \"geometry\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TABLE t (jsoncol JSON, PRIMARY KEY ((CAST(col ->> '$.fields' AS UNSIGNED ARRAY)) ASC))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"jsoncol\",\n                    span: 16..23,\n                },\n                data_type: DataType {\n                    identifier: 24..28,\n                    type_: Json,\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Primary(\n                    30..41,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Expression(\n                            Invalid(\n                                InvalidExpression {\n                                    span: 44..48,\n                                },\n                            ),\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: Some(\n                            88..91,\n                        ),\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'type' here\",\n    span: 71..79,\n    sql_segment: \"UNSIGNED\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TABLE t (jsoncol JSON, PRIMARY KEY ((CAST(col ->> '$.id' AS UNSIGNED)) ASC))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"jsoncol\",\n                    span: 16..23,\n                },\n                data_type: DataType {\n                    identifier: 24..28,\n                    type_: Json,\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Primary(\n                    30..41,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Expression(\n                            Invalid(\n                                InvalidExpression {\n                                    span: 44..48,\n                                },\n                            ),\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: Some(\n                            78..81,\n                        ),\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'type' here\",\n    span: 67..75,\n    sql_segment: \"UNSIGNED\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TABLE t (textcol TEXT, INDEX idx_index (textcol(10)))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"textcol\",\n                    span: 16..23,\n                },\n                data_type: DataType {\n                    identifier: 24..28,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    30..35,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"idx_index\",\n                        span: 36..45,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"textcol\",\n                                span: 47..54,\n                            },\n                        ),\n                        size: Some(\n                            (\n                                10,\n                                55..57,\n                            ),\n                        ),\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT) DEFAULT CHARSET = utf8mb4 ENGINE = InnoDB AUTO_INCREMENT = 1 DATA DIRECTORY = '/var/lib/mysql/data'",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            DefaultCharSet {\n                identifier: 23..38,\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 41..48,\n                },\n            },\n            Engine {\n                identifier: 49..55,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 58..64,\n                },\n            },\n            AutoIncrement {\n                identifier: 65..79,\n                value: (\n                    1,\n                    82..83,\n                ),\n            },\n            DataDirectory {\n                identifier: 84..98,\n                value: SString {\n                    value: \"/var/lib/mysql/data\",\n                    span: 101..122,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT) DEFAULT CHARSET = utf8mb4, ENGINE = InnoDB , AUTO_INCREMENT 1 DATA DIRECTORY '/var/lib/mysql/data'",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [\n            DefaultCharSet {\n                identifier: 23..38,\n                value: Identifier {\n                    value: \"utf8mb4\",\n                    span: 41..48,\n                },\n            },\n            Engine {\n                identifier: 50..56,\n                value: Identifier {\n                    value: \"InnoDB\",\n                    span: 59..65,\n                },\n            },\n            AutoIncrement {\n                identifier: 68..82,\n                value: (\n                    1,\n                    83..84,\n                ),\n            },\n            DataDirectory {\n                identifier: 85..99,\n                value: SString {\n                    value: \"/var/lib/mysql/data\",\n                    span: 100..121,\n                },\n            },\n        ],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT, CHECK (x > 1))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            CheckConstraintDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                check_span: 23..28,\n                expression: Binary(\n                    BinaryExpression {\n                        op: Gt,\n                        op_span: 32..33,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"x\",\n                                            span: 30..31,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 34..35,\n                            },\n                        ),\n                    },\n                ),\n                enforced: None,\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT, CONSTRAINT CHECK (x > 1))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            CheckConstraintDefinition {\n                constraint_span: Some(\n                    23..33,\n                ),\n                constraint_symbol: None,\n                check_span: 34..39,\n                expression: Binary(\n                    BinaryExpression {\n                        op: Gt,\n                        op_span: 43..44,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"x\",\n                                            span: 41..42,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 45..46,\n                            },\n                        ),\n                    },\n                ),\n                enforced: None,\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT, CONSTRAINT FOREIGN KEY (x) REFERENCES t2(id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ForeignKeyDefinition {\n                constraint_span: Some(\n                    23..33,\n                ),\n                constraint_symbol: None,\n                foreign_key_span: 34..45,\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"x\",\n                                span: 47..48,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                references_span: 50..60,\n                references_table: Identifier {\n                    value: \"t2\",\n                    span: 61..63,\n                },\n                references_cols: [\n                    Identifier {\n                        value: \"id\",\n                        span: 64..66,\n                    },\n                ],\n                ons: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT, CONSTRAINT PRIMARY KEY (x))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: Some(\n                    23..33,\n                ),\n                constraint_symbol: None,\n                index_type: Primary(\n                    34..45,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"x\",\n                                span: 47..48,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT, CONSTRAINT UNIQUE (x))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: Some(\n                    23..33,\n                ),\n                constraint_symbol: None,\n                index_type: Unique(\n                    34..40,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"x\",\n                                span: 42..43,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT, FOREIGN KEY (x) REFERENCES t2(id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ForeignKeyDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                foreign_key_span: 23..34,\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"x\",\n                                span: 36..37,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                references_span: 39..49,\n                references_table: Identifier {\n                    value: \"t2\",\n                    span: 50..52,\n                },\n                references_cols: [\n                    Identifier {\n                        value: \"id\",\n                        span: 53..55,\n                    },\n                ],\n                ons: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT, PRIMARY KEY (x))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Primary(\n                    23..34,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"x\",\n                                span: 36..37,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t (x INT, UNIQUE (x))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"x\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Unique(\n                    23..29,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"x\",\n                                span: 31..32,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t1 (a INT, b INT AS (a * 2) STORED)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t1\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"a\",\n                    span: 17..18,\n                },\n                data_type: DataType {\n                    identifier: 19..22,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"b\",\n                    span: 24..25,\n                },\n                data_type: DataType {\n                    identifier: 26..29,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        As(\n                            (\n                                30..32,\n                                Binary(\n                                    BinaryExpression {\n                                        op: Mult,\n                                        op_span: 36..37,\n                                        lhs: Identifier(\n                                            IdentifierExpression {\n                                                parts: [\n                                                    Name(\n                                                        Identifier {\n                                                            value: \"a\",\n                                                            span: 34..35,\n                                                        },\n                                                    ),\n                                                ],\n                                            },\n                                        ),\n                                        rhs: Integer(\n                                            IntegerExpression {\n                                                value: 2,\n                                                span: 38..39,\n                                            },\n                                        ),\n                                    },\n                                ),\n                            ),\n                        ),\n                        Stored(\n                            41..47,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t1 (a INT, b INT AS (a * 2) VIRTUAL)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t1\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"a\",\n                    span: 17..18,\n                },\n                data_type: DataType {\n                    identifier: 19..22,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"b\",\n                    span: 24..25,\n                },\n                data_type: DataType {\n                    identifier: 26..29,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        As(\n                            (\n                                30..32,\n                                Binary(\n                                    BinaryExpression {\n                                        op: Mult,\n                                        op_span: 36..37,\n                                        lhs: Identifier(\n                                            IdentifierExpression {\n                                                parts: [\n                                                    Name(\n                                                        Identifier {\n                                                            value: \"a\",\n                                                            span: 34..35,\n                                                        },\n                                                    ),\n                                                ],\n                                            },\n                                        ),\n                                        rhs: Integer(\n                                            IntegerExpression {\n                                                value: 2,\n                                                span: 38..39,\n                                            },\n                                        ),\n                                    },\n                                ),\n                            ),\n                        ),\n                        Virtual(\n                            41..48,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t1 (a INT, b INT AS (a * 2))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t1\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"a\",\n                    span: 17..18,\n                },\n                data_type: DataType {\n                    identifier: 19..22,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"b\",\n                    span: 24..25,\n                },\n                data_type: DataType {\n                    identifier: 26..29,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        As(\n                            (\n                                30..32,\n                                Binary(\n                                    BinaryExpression {\n                                        op: Mult,\n                                        op_span: 36..37,\n                                        lhs: Identifier(\n                                            IdentifierExpression {\n                                                parts: [\n                                                    Name(\n                                                        Identifier {\n                                                            value: \"a\",\n                                                            span: 34..35,\n                                                        },\n                                                    ),\n                                                ],\n                                            },\n                                        ),\n                                        rhs: Integer(\n                                            IntegerExpression {\n                                                value: 2,\n                                                span: 38..39,\n                                            },\n                                        ),\n                                    },\n                                ),\n                            ),\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t1 (a INT, b INT GENERATED ALWAYS AS (a * 2) STORED)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t1\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"a\",\n                    span: 17..18,\n                },\n                data_type: DataType {\n                    identifier: 19..22,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"b\",\n                    span: 24..25,\n                },\n                data_type: DataType {\n                    identifier: 26..29,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        GeneratedAlways(\n                            30..46,\n                        ),\n                        As(\n                            (\n                                47..49,\n                                Binary(\n                                    BinaryExpression {\n                                        op: Mult,\n                                        op_span: 53..54,\n                                        lhs: Identifier(\n                                            IdentifierExpression {\n                                                parts: [\n                                                    Name(\n                                                        Identifier {\n                                                            value: \"a\",\n                                                            span: 51..52,\n                                                        },\n                                                    ),\n                                                ],\n                                            },\n                                        ),\n                                        rhs: Integer(\n                                            IntegerExpression {\n                                                value: 2,\n                                                span: 55..56,\n                                            },\n                                        ),\n                                    },\n                                ),\n                            ),\n                        ),\n                        Stored(\n                            58..64,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t1 (a INT, b INT GENERATED ALWAYS AS (a * 2) VIRTUAL)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t1\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"a\",\n                    span: 17..18,\n                },\n                data_type: DataType {\n                    identifier: 19..22,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"b\",\n                    span: 24..25,\n                },\n                data_type: DataType {\n                    identifier: 26..29,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        GeneratedAlways(\n                            30..46,\n                        ),\n                        As(\n                            (\n                                47..49,\n                                Binary(\n                                    BinaryExpression {\n                                        op: Mult,\n                                        op_span: 53..54,\n                                        lhs: Identifier(\n                                            IdentifierExpression {\n                                                parts: [\n                                                    Name(\n                                                        Identifier {\n                                                            value: \"a\",\n                                                            span: 51..52,\n                                                        },\n                                                    ),\n                                                ],\n                                            },\n                                        ),\n                                        rhs: Integer(\n                                            IntegerExpression {\n                                                value: 2,\n                                                span: 55..56,\n                                            },\n                                        ),\n                                    },\n                                ),\n                            ),\n                        ),\n                        Virtual(\n                            58..65,\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE t1 (a INT, b INT GENERATED ALWAYS AS (a * 2))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"t1\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"a\",\n                    span: 17..18,\n                },\n                data_type: DataType {\n                    identifier: 19..22,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"b\",\n                    span: 24..25,\n                },\n                data_type: DataType {\n                    identifier: 26..29,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [\n                        GeneratedAlways(\n                            30..46,\n                        ),\n                        As(\n                            (\n                                47..49,\n                                Binary(\n                                    BinaryExpression {\n                                        op: Mult,\n                                        op_span: 53..54,\n                                        lhs: Identifier(\n                                            IdentifierExpression {\n                                                parts: [\n                                                    Name(\n                                                        Identifier {\n                                                            value: \"a\",\n                                                            span: 51..52,\n                                                        },\n                                                    ),\n                                                ],\n                                            },\n                                        ),\n                                        rhs: Integer(\n                                            IntegerExpression {\n                                                value: 2,\n                                                span: 55..56,\n                                            },\n                                        ),\n                                    },\n                                ),\n                            ),\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (c1 INT, CONSTRAINT cons FULLTEXT (c1))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"c1\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: Some(\n                    25..35,\n                ),\n                constraint_symbol: Some(\n                    Identifier {\n                        value: \"cons\",\n                        span: 36..40,\n                    },\n                ),\n                index_type: FullText(\n                    41..49,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c1\",\n                                span: 51..53,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (c1 INT, c2 INT, FULLTEXT KEY potato (c1, c2))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"c1\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"c2\",\n                    span: 25..27,\n                },\n                data_type: DataType {\n                    identifier: 28..31,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: FullText(\n                    33..45,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"potato\",\n                        span: 46..52,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c1\",\n                                span: 54..56,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c2\",\n                                span: 58..60,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (c1 INT, c2 INT, SPATIAL KEY potato (c1, c2))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"c1\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"c2\",\n                    span: 25..27,\n                },\n                data_type: DataType {\n                    identifier: 28..31,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Spatial(\n                    33..44,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"potato\",\n                        span: 45..51,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c1\",\n                                span: 53..55,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c2\",\n                                span: 57..59,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, FULLTEXT (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: FullText(\n                    25..33,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 35..37,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, FULLTEXT INDEX (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: FullText(\n                    25..39,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 41..43,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, FULLTEXT INDEX potato (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: FullText(\n                    25..39,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"potato\",\n                        span: 40..46,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 48..50,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, FULLTEXT KEY (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: FullText(\n                    25..37,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 39..41,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, FULLTEXT KEY potato (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: FullText(\n                    25..37,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"potato\",\n                        span: 38..44,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 46..48,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, FULLTEXT potato (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: FullText(\n                    25..33,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"potato\",\n                        span: 34..40,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 42..44,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, INDEX 'index' (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..30,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"index\",\n                        span: 31..38,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 40..42,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, INDEX (c1, c2, c3, c4, c5))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..30,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c1\",\n                                span: 32..34,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c2\",\n                                span: 36..38,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c3\",\n                                span: 40..42,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c4\",\n                                span: 44..46,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c5\",\n                                span: 48..50,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, INDEX (c1, c2, c3, c4,c5))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..30,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c1\",\n                                span: 32..34,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c2\",\n                                span: 36..38,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c3\",\n                                span: 40..42,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c4\",\n                                span: 44..46,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"c5\",\n                                span: 47..49,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, INDEX (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..30,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 32..34,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, INDEX USING BTREE (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..30,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 44..46,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [\n                    IndexTypeBTree(\n                        37..42,\n                    ),\n                ],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, INDEX index USING BTREE (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..30,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"index\",\n                        span: 31..36,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 50..52,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [\n                    IndexTypeBTree(\n                        43..48,\n                    ),\n                ],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, INDEX index USING HASH (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..30,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"index\",\n                        span: 31..36,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 49..51,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [\n                    IndexTypeHash(\n                        43..47,\n                    ),\n                ],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, KEY USING HASH (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..28,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 41..43,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [\n                    IndexTypeHash(\n                        35..39,\n                    ),\n                ],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, KEY index (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..28,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"index\",\n                        span: 29..34,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 36..38,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, SPATIAL (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Spatial(\n                    25..32,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 34..36,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, SPATIAL INDEX (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Spatial(\n                    25..38,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 40..42,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, SPATIAL INDEX potato (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Spatial(\n                    25..38,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"potato\",\n                        span: 39..45,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 47..49,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, SPATIAL KEY (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Spatial(\n                    25..36,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 38..40,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, SPATIAL KEY potato (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Spatial(\n                    25..36,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"potato\",\n                        span: 37..43,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 45..47,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, SPATIAL potato (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Spatial(\n                    25..32,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"potato\",\n                        span: 33..39,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 41..43,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, index USING BTREE (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..30,\n                ),\n                index_name: None,\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 44..46,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [\n                    IndexTypeBTree(\n                        37..42,\n                    ),\n                ],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id INT, key index (id))",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..23,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n            IndexDefinition {\n                constraint_span: None,\n                constraint_symbol: None,\n                index_type: Index(\n                    25..28,\n                ),\n                index_name: Some(\n                    Identifier {\n                        value: \"index\",\n                        span: 29..34,\n                    },\n                ),\n                cols: [\n                    IndexCol {\n                        expr: Column(\n                            Identifier {\n                                value: \"id\",\n                                span: 36..38,\n                            },\n                        ),\n                        size: None,\n                        opclass: None,\n                        asc: None,\n                        desc: None,\n                    },\n                ],\n                index_options: [],\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE tb (id TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 13..15,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"id\",\n                    span: 17..19,\n                },\n                data_type: DataType {\n                    identifier: 20..24,\n                    type_: Text(\n                        None,\n                    ),\n                    properties: [\n                        Charset(\n                            Identifier {\n                                value: \"utf8mb4\",\n                                span: 39..46,\n                            },\n                        ),\n                        Charset(\n                            Identifier {\n                                value: \"utf8mb4_0900_ai_ci\",\n                                span: 55..73,\n                            },\n                        ),\n                    ],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TABLE x (y INT, CONSTRAINT constr {key_ty} (y) NOT DEFERRABLE INITIALLY IMMEDIATE)",
    "output": "CreateTable(\n    CreateTable {\n        create_span: 0..6,\n        create_options: [],\n        table_span: 7..12,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"x\",\n                span: 13..14,\n            },\n        },\n        if_not_exists: None,\n        create_definitions: [\n            ColumnDefinition {\n                identifier: Identifier {\n                    value: \"y\",\n                    span: 16..17,\n                },\n                data_type: DataType {\n                    identifier: 18..21,\n                    type_: Int(\n                        None,\n                    ),\n                    properties: [],\n                },\n            },\n        ],\n        options: [],\n        table_as: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'identifier' here\",\n    span: 41..42,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "CREATE TRIGGER emp_stamp BEFORE INSERT ON emp FOR EACH ROW EXECUTE FUNCTION emp_stamp()",
    "output": "CreateTrigger(\n    CreateTrigger {\n        create_span: 0..6,\n        create_options: [],\n        trigger_span: 7..14,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"emp_stamp\",\n            span: 15..24,\n        },\n        trigger_time: Before(\n            25..31,\n        ),\n        trigger_event: Insert(\n            32..38,\n        ),\n        on_span: 39..41,\n        table: Identifier {\n            value: \"emp\",\n            span: 42..45,\n        },\n        for_each_row_span: 46..58,\n        statement: Block(\n            Block {\n                begin_span: 85..86,\n                statements: [],\n                end_span: 86..87,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TRIGGER mytrigger BEFORE INSERT ON mytable FOR EACH ROW BEGIN SET NEW.a = 1; SET NEW.b = 2; END",
    "output": "CreateTrigger(\n    CreateTrigger {\n        create_span: 0..6,\n        create_options: [],\n        trigger_span: 7..14,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"mytrigger\",\n            span: 15..24,\n        },\n        trigger_time: Before(\n            25..31,\n        ),\n        trigger_event: Insert(\n            32..38,\n        ),\n        on_span: 39..41,\n        table: Identifier {\n            value: \"mytable\",\n            span: 42..49,\n        },\n        for_each_row_span: 50..62,\n        statement: Block(\n            Block {\n                begin_span: 63..68,\n                statements: [\n                    Set(\n                        Set {\n                            set_span: 69..72,\n                            values: [\n                                (\n                                    QualifiedName {\n                                        prefix: [\n                                            (\n                                                Identifier {\n                                                    value: \"NEW\",\n                                                    span: 73..76,\n                                                },\n                                                76..77,\n                                            ),\n                                        ],\n                                        identifier: Identifier {\n                                            value: \"a\",\n                                            span: 77..78,\n                                        },\n                                    },\n                                    Integer(\n                                        IntegerExpression {\n                                            value: 1,\n                                            span: 81..82,\n                                        },\n                                    ),\n                                ),\n                            ],\n                        },\n                    ),\n                    Set(\n                        Set {\n                            set_span: 84..87,\n                            values: [\n                                (\n                                    QualifiedName {\n                                        prefix: [\n                                            (\n                                                Identifier {\n                                                    value: \"NEW\",\n                                                    span: 88..91,\n                                                },\n                                                91..92,\n                                            ),\n                                        ],\n                                        identifier: Identifier {\n                                            value: \"b\",\n                                            span: 92..93,\n                                        },\n                                    },\n                                    Integer(\n                                        IntegerExpression {\n                                            value: 2,\n                                            span: 96..97,\n                                        },\n                                    ),\n                                ),\n                            ],\n                        },\n                    ),\n                ],\n                end_span: 99..102,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "CREATE TRIGGER tr AFTER INSERT ON t1 FOR EACH ROW BEGIN INSERT INTO t2 VALUES (NEW.id); END",
    "output": "CreateTrigger(\n    CreateTrigger {\n        create_span: 0..6,\n        create_options: [],\n        trigger_span: 7..14,\n        if_not_exists: None,\n        name: Identifier {\n            value: \"tr\",\n            span: 15..17,\n        },\n        trigger_time: After(\n            18..23,\n        ),\n        trigger_event: Insert(\n            24..30,\n        ),\n        on_span: 31..33,\n        table: Identifier {\n            value: \"t1\",\n            span: 34..36,\n        },\n        for_each_row_span: 37..49,\n        statement: Block(\n            Block {\n                begin_span: 50..55,\n                statements: [\n                    InsertReplace(\n                        InsertReplace {\n                            type_: Insert(\n                                56..62,\n                            ),\n                            flags: [],\n                            into_span: Some(\n                                63..67,\n                            ),\n                            table: QualifiedName {\n                                prefix: [],\n                                identifier: Identifier {\n                                    value: \"t2\",\n                                    span: 68..70,\n                                },\n                            },\n                            columns: [],\n                            values: Some(\n                                (\n                                    71..77,\n                                    [\n                                        [\n                                            Identifier(\n                                                IdentifierExpression {\n                                                    parts: [\n                                                        Name(\n                                                            Identifier {\n                                                                value: \"NEW\",\n                                                                span: 79..82,\n                                                            },\n                                                        ),\n                                                        Name(\n                                                            Identifier {\n                                                                value: \"id\",\n                                                                span: 83..85,\n                                                            },\n                                                        ),\n                                                    ],\n                                                },\n                                            ),\n                                        ],\n                                    ],\n                                ),\n                            ),\n                            select: None,\n                            set: None,\n                            on_duplicate_key_update: None,\n                            on_conflict: None,\n                            as_alias: None,\n                            returning: None,\n                        },\n                    ),\n                ],\n                end_span: 88..91,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "DELETE FROM customers LIMIT 100",
    "output": "Delete(\n    Delete {\n        delete_span: 0..6,\n        flags: [],\n        from_span: 7..11,\n        tables: [\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"customers\",\n                    span: 12..21,\n                },\n            },\n        ],\n        using: [],\n        where_: None,\n        order_by: None,\n        limit: Some(\n            (\n                22..27,\n                None,\n                Integer(\n                    IntegerExpression {\n                        value: 100,\n                        span: 28..31,\n                    },\n                ),\n            ),\n        ),\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "DELETE FROM customers ORDER BY id DESC",
    "output": "Delete(\n    Delete {\n        delete_span: 0..6,\n        flags: [],\n        from_span: 7..11,\n        tables: [\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"customers\",\n                    span: 12..21,\n                },\n            },\n        ],\n        using: [],\n        where_: None,\n        order_by: Some(\n            (\n                22..30,\n                [\n                    (\n                        Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"id\",\n                                            span: 31..33,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        Desc(\n                            34..38,\n                        ),\n                    ),\n                ],\n            ),\n        ),\n        limit: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "DROP INDEX idx_name ON table_name",
    "output": "DropIndex(\n    DropIndex {\n        drop_span: 0..4,\n        index_span: 5..10,\n        if_exists: None,\n        index_name: Identifier {\n            value: \"idx_name\",\n            span: 11..19,\n        },\n        on: Some(\n            (\n                20..22,\n                QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"table_name\",\n                        span: 23..33,\n                    },\n                },\n            ),\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "DROP TEMPORARY TABLE foo",
    "output": "DropTable(\n    DropTable {\n        drop_span: 0..4,\n        temporary: Some(\n            5..14,\n        ),\n        table_span: 15..20,\n        if_exists: None,\n        tables: [\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"foo\",\n                    span: 21..24,\n                },\n            },\n        ],\n        cascade: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "DROP TRIGGER emp_stamp",
    "output": "DropTrigger(\n    DropTrigger {\n        drop_span: 0..4,\n        trigger_span: 5..12,\n        if_exists: None,\n        identifier: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"emp_stamp\",\n                span: 13..22,\n            },\n        },\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH BINARY LOGS",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: None,\n        options: [\n            BinaryLogs(\n                6..17,\n            ),\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH ENGINE LOGS",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: None,\n        options: [\n            EngineLogs(\n                6..17,\n            ),\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH ERROR LOGS",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: None,\n        options: [\n            ErrorLogs(\n                6..16,\n            ),\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH LOCAL SLOW LOGS",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: Some(\n            6..11,\n        ),\n        options: [\n            SlowLogs(\n                12..21,\n            ),\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH NO_WRITE_TO_BINLOG GENERAL LOGS",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: Some(\n            6..24,\n        ),\n        local: None,\n        options: [\n            GeneralLogs(\n                25..37,\n            ),\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH OPTIMIZER_COSTS",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: None,\n        options: [\n            OptimizerCosts(\n                6..21,\n            ),\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH RELAY LOGS FOR CHANNEL test",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: None,\n        options: [\n            RelayLogsForChannel {\n                span: 6..28,\n                channel: Identifier {\n                    value: \"test\",\n                    span: 29..33,\n                },\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH TABLES WITH READ LOCK",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: None,\n        options: [\n            Table {\n                span: 6..12,\n                tables: [],\n                with_read_lock: Some(\n                    13..27,\n                ),\n                for_export: None,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH TABLES `mek`.`table1`, table2",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: None,\n        options: [\n            Table {\n                span: 6..12,\n                tables: [\n                    QualifiedName {\n                        prefix: [\n                            (\n                                Identifier {\n                                    value: \"mek\",\n                                    span: 13..18,\n                                },\n                                18..19,\n                            ),\n                        ],\n                        identifier: Identifier {\n                            value: \"table1\",\n                            span: 19..27,\n                        },\n                    },\n                    QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"table2\",\n                            span: 29..35,\n                        },\n                    },\n                ],\n                with_read_lock: None,\n                for_export: None,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH TABLES `mek`.`table1`, table2 FOR EXPORT",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: None,\n        options: [\n            Table {\n                span: 6..12,\n                tables: [\n                    QualifiedName {\n                        prefix: [\n                            (\n                                Identifier {\n                                    value: \"mek\",\n                                    span: 13..18,\n                                },\n                                18..19,\n                            ),\n                        ],\n                        identifier: Identifier {\n                            value: \"table1\",\n                            span: 19..27,\n                        },\n                    },\n                    QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"table2\",\n                            span: 29..35,\n                        },\n                    },\n                ],\n                with_read_lock: None,\n                for_export: Some(\n                    36..46,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "FLUSH TABLES `mek`.`table1`, table2 WITH READ LOCK",
    "output": "Flush(\n    Flush {\n        flush_span: 0..5,\n        no_write_to_binlog: None,\n        local: None,\n        options: [\n            Table {\n                span: 6..12,\n                tables: [\n                    QualifiedName {\n                        prefix: [\n                            (\n                                Identifier {\n                                    value: \"mek\",\n                                    span: 13..18,\n                                },\n                                18..19,\n                            ),\n                        ],\n                        identifier: Identifier {\n                            value: \"table1\",\n                            span: 19..27,\n                        },\n                    },\n                    QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"table2\",\n                            span: 29..35,\n                        },\n                    },\n                ],\n                with_read_lock: Some(\n                    36..50,\n                ),\n                for_export: None,\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT HIGH_PRIORITY INTO tasks (title, priority) VALUES ('Test Some Inserts', 1)",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n        ],\n        into_span: Some(\n            21..25,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tasks\",\n                span: 26..31,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"title\",\n                span: 33..38,\n            },\n            Identifier {\n                value: \"priority\",\n                span: 40..48,\n            },\n        ],\n        values: Some(\n            (\n                50..56,\n                [\n                    [\n                        String(\n                            SString {\n                                value: \"Test Some Inserts\",\n                                span: 58..77,\n                            },\n                        ),\n                        Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 79..80,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT IGNORE INTO tasks (title, priority) VALUES ('Test Some Inserts', 1)",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [\n            Ignore(\n                7..13,\n            ),\n        ],\n        into_span: Some(\n            14..18,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tasks\",\n                span: 19..24,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"title\",\n                span: 26..31,\n            },\n            Identifier {\n                value: \"priority\",\n                span: 33..41,\n            },\n        ],\n        values: Some(\n            (\n                43..49,\n                [\n                    [\n                        String(\n                            SString {\n                                value: \"Test Some Inserts\",\n                                span: 51..70,\n                            },\n                        ),\n                        Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 72..73,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT INTO `table` (`date`) VALUES ('2024-01-01') AS `alias`",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [],\n        into_span: Some(\n            7..11,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"table\",\n                span: 12..19,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"date\",\n                span: 21..27,\n            },\n        ],\n        values: Some(\n            (\n                29..35,\n                [\n                    [\n                        String(\n                            SString {\n                                value: \"2024-01-01\",\n                                span: 37..49,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: Some(\n            (\n                51..53,\n                Identifier {\n                    value: \"alias\",\n                    span: 54..61,\n                },\n                None,\n            ),\n        ),\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT INTO `table` (`date`) VALUES ('2024-01-01') AS `alias` ()",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [],\n        into_span: Some(\n            7..11,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"table\",\n                span: 12..19,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"date\",\n                span: 21..27,\n            },\n        ],\n        values: Some(\n            (\n                29..35,\n                [\n                    [\n                        String(\n                            SString {\n                                value: \"2024-01-01\",\n                                span: 37..49,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: Some(\n            (\n                51..53,\n                Identifier {\n                    value: \"alias\",\n                    span: 54..61,\n                },\n                Some(\n                    [],\n                ),\n            ),\n        ),\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT INTO `table` (`id`, `date`) VALUES (1, '2024-01-01') AS `alias` (`mek_id`, `mek_date`)",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [],\n        into_span: Some(\n            7..11,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"table\",\n                span: 12..19,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"id\",\n                span: 21..25,\n            },\n            Identifier {\n                value: \"date\",\n                span: 27..33,\n            },\n        ],\n        values: Some(\n            (\n                35..41,\n                [\n                    [\n                        Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 43..44,\n                            },\n                        ),\n                        String(\n                            SString {\n                                value: \"2024-01-01\",\n                                span: 46..58,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: Some(\n            (\n                60..62,\n                Identifier {\n                    value: \"alias\",\n                    span: 63..70,\n                },\n                Some(\n                    [\n                        Identifier {\n                            value: \"mek_id\",\n                            span: 72..80,\n                        },\n                        Identifier {\n                            value: \"mek_date\",\n                            span: 82..92,\n                        },\n                    ],\n                ),\n            ),\n        ),\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT INTO permission_groups (name, description, perm_create, perm_read, perm_update, perm_delete) VALUES ('accounting_manager', 'Some description about the group', true, true, true, true) ON DUPLICATE KEY UPDATE description = VALUES(description), perm_create = VALUES(perm_create), perm_read = VALUES(perm_read), perm_update = VALUES(perm_update), perm_delete = VALUES(perm_delete)",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [],\n        into_span: Some(\n            7..11,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"permission_groups\",\n                span: 12..29,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"name\",\n                span: 31..35,\n            },\n            Identifier {\n                value: \"description\",\n                span: 37..48,\n            },\n            Identifier {\n                value: \"perm_create\",\n                span: 50..61,\n            },\n            Identifier {\n                value: \"perm_read\",\n                span: 63..72,\n            },\n            Identifier {\n                value: \"perm_update\",\n                span: 74..85,\n            },\n            Identifier {\n                value: \"perm_delete\",\n                span: 87..98,\n            },\n        ],\n        values: Some(\n            (\n                100..106,\n                [\n                    [\n                        String(\n                            SString {\n                                value: \"accounting_manager\",\n                                span: 108..128,\n                            },\n                        ),\n                        String(\n                            SString {\n                                value: \"Some description about the group\",\n                                span: 130..164,\n                            },\n                        ),\n                        Bool(\n                            BoolExpression {\n                                value: true,\n                                span: 166..170,\n                            },\n                        ),\n                        Bool(\n                            BoolExpression {\n                                value: true,\n                                span: 172..176,\n                            },\n                        ),\n                        Bool(\n                            BoolExpression {\n                                value: true,\n                                span: 178..182,\n                            },\n                        ),\n                        Bool(\n                            BoolExpression {\n                                value: true,\n                                span: 184..188,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: Some(\n            InsertReplaceOnDuplicateKeyUpdate {\n                on_duplicate_key_update_span: 190..213,\n                pairs: [\n                    InsertReplaceSetPair {\n                        column: Identifier {\n                            value: \"description\",\n                            span: 214..225,\n                        },\n                        equal_span: 226..227,\n                        value: Function(\n                            FunctionCallExpression {\n                                function: Value,\n                                args: [\n                                    Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"description\",\n                                                        span: 235..246,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                ],\n                                function_span: 228..234,\n                            },\n                        ),\n                    },\n                    InsertReplaceSetPair {\n                        column: Identifier {\n                            value: \"perm_create\",\n                            span: 249..260,\n                        },\n                        equal_span: 261..262,\n                        value: Function(\n                            FunctionCallExpression {\n                                function: Value,\n                                args: [\n                                    Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"perm_create\",\n                                                        span: 270..281,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                ],\n                                function_span: 263..269,\n                            },\n                        ),\n                    },\n                    InsertReplaceSetPair {\n                        column: Identifier {\n                            value: \"perm_read\",\n                            span: 284..293,\n                        },\n                        equal_span: 294..295,\n                        value: Function(\n                            FunctionCallExpression {\n                                function: Value,\n                                args: [\n                                    Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"perm_read\",\n                                                        span: 303..312,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                ],\n                                function_span: 296..302,\n                            },\n                        ),\n                    },\n                    InsertReplaceSetPair {\n                        column: Identifier {\n                            value: \"perm_update\",\n                            span: 315..326,\n                        },\n                        equal_span: 327..328,\n                        value: Function(\n                            FunctionCallExpression {\n                                function: Value,\n                                args: [\n                                    Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"perm_update\",\n                                                        span: 336..347,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                ],\n                                function_span: 329..335,\n                            },\n                        ),\n                    },\n                    InsertReplaceSetPair {\n                        column: Identifier {\n                            value: \"perm_delete\",\n                            span: 350..361,\n                        },\n                        equal_span: 362..363,\n                        value: Function(\n                            FunctionCallExpression {\n                                function: Value,\n                                args: [\n                                    Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"perm_delete\",\n                                                        span: 371..382,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                ],\n                                function_span: 364..370,\n                            },\n                        ),\n                    },\n                ],\n            },\n        ),\n        on_conflict: None,\n        as_alias: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT INTO s1.t1 (123col_$@length123) VALUES (67.654)",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [],\n        into_span: Some(\n            7..11,\n        ),\n        table: QualifiedName {\n            prefix: [\n                (\n                    Identifier {\n                        value: \"s1\",\n                        span: 12..14,\n                    },\n                    14..15,\n                ),\n            ],\n            identifier: Identifier {\n                value: \"t1\",\n                span: 15..17,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"123col_$@length123\",\n                span: 19..37,\n            },\n        ],\n        values: Some(\n            (\n                39..45,\n                [\n                    [\n                        Float(\n                            FloatExpression {\n                                value: 67.654,\n                                span: 47..53,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT INTO tasks (title, priority) VALUES ('Test Some Inserts', 1), ('Test Entry 2', 2), ('Test Entry 3', 3)",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [],\n        into_span: Some(\n            7..11,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tasks\",\n                span: 12..17,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"title\",\n                span: 19..24,\n            },\n            Identifier {\n                value: \"priority\",\n                span: 26..34,\n            },\n        ],\n        values: Some(\n            (\n                36..42,\n                [\n                    [\n                        String(\n                            SString {\n                                value: \"Test Some Inserts\",\n                                span: 44..63,\n                            },\n                        ),\n                        Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 65..66,\n                            },\n                        ),\n                    ],\n                    [\n                        String(\n                            SString {\n                                value: \"Test Entry 2\",\n                                span: 70..84,\n                            },\n                        ),\n                        Integer(\n                            IntegerExpression {\n                                value: 2,\n                                span: 86..87,\n                            },\n                        ),\n                    ],\n                    [\n                        String(\n                            SString {\n                                value: \"Test Entry 3\",\n                                span: 91..105,\n                            },\n                        ),\n                        Integer(\n                            IntegerExpression {\n                                value: 3,\n                                span: 107..108,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT INTO tb () VALUES (), ()",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [],\n        into_span: Some(\n            7..11,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 12..14,\n            },\n        },\n        columns: [],\n        values: Some(\n            (\n                18..24,\n                [\n                    [],\n                    [],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT INTO tb VALUES (), ()",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [],\n        into_span: Some(\n            7..11,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tb\",\n                span: 12..14,\n            },\n        },\n        columns: [],\n        values: Some(\n            (\n                15..21,\n                [\n                    [],\n                    [],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT LOW_PRIORITY INTO tasks (title, priority) VALUES ('Test Some Inserts', 1)",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Insert(\n            0..6,\n        ),\n        flags: [\n            LowPriority(\n                7..19,\n            ),\n        ],\n        into_span: Some(\n            20..24,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tasks\",\n                span: 25..30,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"title\",\n                span: 32..37,\n            },\n            Identifier {\n                value: \"priority\",\n                span: 39..47,\n            },\n        ],\n        values: Some(\n            (\n                49..55,\n                [\n                    [\n                        String(\n                            SString {\n                                value: \"Test Some Inserts\",\n                                span: 57..76,\n                            },\n                        ),\n                        Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 78..79,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "INSERT_METHOD",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'Statement' here\",\n    span: 0..13,\n    sql_segment: \"INSERT_METHOD\",\n    fragments: [],\n}"
    ],
    "should_fail": true,
    "failure": true
  },
  {
    "input": "KILL 5",
    "output": "Kill(\n    Kill {\n        kill_span: 0..4,\n        kill_type: None,\n        id: Integer(\n            IntegerExpression {\n                value: 5,\n                span: 5..6,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "KILL CONNECTION 5",
    "output": "Kill(\n    Kill {\n        kill_span: 0..4,\n        kill_type: Some(\n            Connection(\n                5..15,\n            ),\n        ),\n        id: Integer(\n            IntegerExpression {\n                value: 5,\n                span: 16..17,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "KILL QUERY 5",
    "output": "Kill(\n    Kill {\n        kill_span: 0..4,\n        kill_type: Some(\n            Query(\n                5..10,\n            ),\n        ),\n        id: Integer(\n            IntegerExpression {\n                value: 5,\n                span: 11..12,\n            },\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "LOCK TABLES trans AS t READ LOCAL, customer WRITE",
    "output": "Lock(\n    Lock {\n        lock_span: 0..4,\n        tables_span: 5..11,\n        members: [\n            LockMember {\n                table_name: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"trans\",\n                        span: 12..17,\n                    },\n                },\n                alias: Some(\n                    Identifier {\n                        value: \"t\",\n                        span: 21..22,\n                    },\n                ),\n                lock_type: ReadLocal(\n                    23..33,\n                ),\n            },\n            LockMember {\n                table_name: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"customer\",\n                        span: 35..43,\n                    },\n                },\n                alias: None,\n                lock_type: Write(\n                    44..49,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "LOCK TABLES trans AS t READ, customer LOW_PRIORITY WRITE",
    "output": "Lock(\n    Lock {\n        lock_span: 0..4,\n        tables_span: 5..11,\n        members: [\n            LockMember {\n                table_name: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"trans\",\n                        span: 12..17,\n                    },\n                },\n                alias: Some(\n                    Identifier {\n                        value: \"t\",\n                        span: 21..22,\n                    },\n                ),\n                lock_type: Read(\n                    23..27,\n                ),\n            },\n            LockMember {\n                table_name: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"customer\",\n                        span: 29..37,\n                    },\n                },\n                alias: None,\n                lock_type: LowPriorityWrite(\n                    38..56,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "LOCK TABLES trans AS t READ, customer WRITE",
    "output": "Lock(\n    Lock {\n        lock_span: 0..4,\n        tables_span: 5..11,\n        members: [\n            LockMember {\n                table_name: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"trans\",\n                        span: 12..17,\n                    },\n                },\n                alias: Some(\n                    Identifier {\n                        value: \"t\",\n                        span: 21..22,\n                    },\n                ),\n                lock_type: Read(\n                    23..27,\n                ),\n            },\n            LockMember {\n                table_name: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"customer\",\n                        span: 29..37,\n                    },\n                },\n                alias: None,\n                lock_type: Write(\n                    38..43,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "LOCK TABLES trans t READ, customer WRITE",
    "output": "Lock(\n    Lock {\n        lock_span: 0..4,\n        tables_span: 5..11,\n        members: [\n            LockMember {\n                table_name: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"trans\",\n                        span: 12..17,\n                    },\n                },\n                alias: Some(\n                    Identifier {\n                        value: \"t\",\n                        span: 18..19,\n                    },\n                ),\n                lock_type: Read(\n                    20..24,\n                ),\n            },\n            LockMember {\n                table_name: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"customer\",\n                        span: 26..34,\n                    },\n                },\n                alias: None,\n                lock_type: Write(\n                    35..40,\n                ),\n            },\n        ],\n    },\n)",
    "issues": []
  },
  {
    "input": "REPLACE DELAYED INTO tasks (title, priority) VALUES ('Test Some Inserts', 1)",
    "output": "InsertReplace(\n    InsertReplace {\n        type_: Replace(\n            0..7,\n        ),\n        flags: [\n            Delayed(\n                8..15,\n            ),\n        ],\n        into_span: Some(\n            16..20,\n        ),\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"tasks\",\n                span: 21..26,\n            },\n        },\n        columns: [\n            Identifier {\n                value: \"title\",\n                span: 28..33,\n            },\n            Identifier {\n                value: \"priority\",\n                span: 35..43,\n            },\n        ],\n        values: Some(\n            (\n                45..51,\n                [\n                    [\n                        String(\n                            SString {\n                                value: \"Test Some Inserts\",\n                                span: 53..72,\n                            },\n                        ),\n                        Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 74..75,\n                            },\n                        ),\n                    ],\n                ],\n            ),\n        ),\n        select: None,\n        set: None,\n        on_duplicate_key_update: None,\n        on_conflict: None,\n        as_alias: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT \"I\"\"m fine\"",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"I\\\"\\\"m fine\",\n                        span: 7..18,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT \"I'm ''fine''\"",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"I'm ''fine''\",\n                        span: 7..21,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT \"I\\\"m fine\"",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"I\\\\\\\"m fine\",\n                        span: 7..18,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT \"I\\\\\\\"m fine\"",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"I\\\\\\\\\\\\\\\"m fine\",\n                        span: 7..20,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT $a$, \u00c3\u00a0\u00c3",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"$a$\",\n                                    span: 7..10,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"\u00c3\\u{a0}\u00c3\",\n                                    span: 12..18,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT '%\\_\\%' LIKE '%\\_\\%'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Like,\n                        op_span: 15..19,\n                        lhs: String(\n                            SString {\n                                value: \"%\\\\_\\\\%\",\n                                span: 7..14,\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"%\\\\_\\\\%\",\n                                span: 20..27,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 'I''m fine'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"I'm fine\",\n                        span: 7..18,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 'I\\'m fine'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"I\\\\' fine\",\n                        span: 7..18,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 'I\\'m not fine\\'",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected expression\",\n    span: 7..23,\n    sql_segment: \"'I\\\\'m not fine\\\\'\",\n    fragments: [],\n}"
    ],
    "should_fail": true,
    "failure": true
  },
  {
    "input": "SELECT 'I\\\\'m not fine'",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expression should not follow expression\",\n    span: 14..17,\n    sql_segment: \"not\",\n    fragments: [],\n}"
    ],
    "should_fail": true,
    "failure": true
  },
  {
    "input": "SELECT 'I\\\\\\'m fine'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"I\\\\\\\\\\\\' fine\",\n                        span: 7..20,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT '\\_\\%' LIKE CONCAT('\\_', '\\%')",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Like,\n                        op_span: 14..18,\n                        lhs: String(\n                            SString {\n                                value: \"\\\\_\\\\%\",\n                                span: 7..13,\n                            },\n                        ),\n                        rhs: Function(\n                            FunctionCallExpression {\n                                function: Concat,\n                                args: [\n                                    String(\n                                        SString {\n                                            value: \"\\\\_\",\n                                            span: 26..30,\n                                        },\n                                    ),\n                                    String(\n                                        SString {\n                                            value: \"\\\\%\",\n                                            span: 32..36,\n                                        },\n                                    ),\n                                ],\n                                function_span: 19..25,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 'a%c' LIKE 'a$%c' ESCAPE '$'",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expression should not follow expression\",\n    span: 32..35,\n    sql_segment: \"'$'\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "SELECT 'a\\%c' LIKE 'a\\%c'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Like,\n                        op_span: 14..18,\n                        lhs: String(\n                            SString {\n                                value: \"a\\\\%c\",\n                                span: 7..13,\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"a\\\\%c\",\n                                span: 19..25,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 'a\\_c' LIKE 'a\\_c'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Like,\n                        op_span: 14..18,\n                        lhs: String(\n                            SString {\n                                value: \"a\\\\_c\",\n                                span: 7..13,\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"a\\\\_c\",\n                                span: 19..25,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 'a_c' LIKE 'a#_c' ESCAPE '#'",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expression should not follow expression\",\n    span: 32..35,\n    sql_segment: \"'#'\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "SELECT 'ab' MEMBER OF('[23, \"abc\", 17, \"ab\", 10]')",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: MemberOf(\n                    MemberOfExpression {\n                        lhs: String(\n                            SString {\n                                value: \"ab\",\n                                span: 7..11,\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"[23, \\\"abc\\\", 17, \\\"ab\\\", 10]\",\n                                span: 22..49,\n                            },\n                        ),\n                        member_of_span: 12..21,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 'single', \"double\"",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"single\",\n                        span: 7..15,\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"double\",\n                        span: 17..25,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE(\"[]\", \"$[*]\" COLUMNS(a VARCHAR(20) PATH \"$\")) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"[]\",\n                            span: 25..29,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 31..37,\n                        },\n                    ),\n                    columns_keyword_span: 38..45,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"a\",\n                                span: 46..47,\n                            },\n                            data_type: DataType {\n                                identifier: 48..55,\n                                type_: VarChar(\n                                    Some(\n                                        (\n                                            20,\n                                            56..58,\n                                        ),\n                                    ),\n                                ),\n                                properties: [],\n                            },\n                            path_span: 60..64,\n                            path: String(\n                                SString {\n                                    value: \"$\",\n                                    span: 65..68,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: None,\n                        },\n                    ],\n                    as_span: Some(\n                        71..73,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 74..75,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE('[ {\"a\": 1, \"b\": [11,111]}, {\"a\": 2, \"b\": [22,222]}, {\"a\":3}]', '$[*]' COLUMNS(a INT PATH '$.a', NESTED PATH '$.b[*]' COLUMNS (b INT PATH '$'))) AS jt",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"[ {\\\"a\\\": 1, \\\"b\\\": [11,111]}, {\\\"a\\\": 2, \\\"b\\\": [22,222]}, {\\\"a\\\":3}]\",\n                            span: 25..87,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 89..95,\n                        },\n                    ),\n                    columns_keyword_span: 96..103,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"a\",\n                                span: 104..105,\n                            },\n                            data_type: DataType {\n                                identifier: 106..109,\n                                type_: Int(\n                                    None,\n                                ),\n                                properties: [],\n                            },\n                            path_span: 110..114,\n                            path: String(\n                                SString {\n                                    value: \"$.a\",\n                                    span: 115..120,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: None,\n                        },\n                        Nested {\n                            nested_span: 122..128,\n                            path_span: 129..133,\n                            path: String(\n                                SString {\n                                    value: \"$.b[*]\",\n                                    span: 134..142,\n                                },\n                            ),\n                            columns_span: 143..150,\n                            columns: [\n                                Column {\n                                    name: Identifier {\n                                        value: \"b\",\n                                        span: 152..153,\n                                    },\n                                    data_type: DataType {\n                                        identifier: 154..157,\n                                        type_: Int(\n                                            None,\n                                        ),\n                                        properties: [],\n                                    },\n                                    path_span: 158..162,\n                                    path: String(\n                                        SString {\n                                            value: \"$\",\n                                            span: 163..166,\n                                        },\n                                    ),\n                                    on_empty: None,\n                                    on_error: None,\n                                },\n                            ],\n                        },\n                    ],\n                    as_span: Some(\n                        170..172,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"jt\",\n                            span: 173..175,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE('[\"x\", \"y\"]', '$[*]' COLUMNS(a VARCHAR(20) PATH '$')) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"[\\\"x\\\", \\\"y\\\"]\",\n                            span: 25..37,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 39..45,\n                        },\n                    ),\n                    columns_keyword_span: 46..53,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"a\",\n                                span: 54..55,\n                            },\n                            data_type: DataType {\n                                identifier: 56..63,\n                                type_: VarChar(\n                                    Some(\n                                        (\n                                            20,\n                                            64..66,\n                                        ),\n                                    ),\n                                ),\n                                properties: [],\n                            },\n                            path_span: 68..72,\n                            path: String(\n                                SString {\n                                    value: \"$\",\n                                    span: 73..76,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: None,\n                        },\n                    ],\n                    as_span: Some(\n                        79..81,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 82..83,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE('[1,2]', '$[*]' COLUMNS(x INT PATH '$' DEFAULT '0' ON EMPTY NULL ON ERROR)) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"[1,2]\",\n                            span: 25..32,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 34..40,\n                        },\n                    ),\n                    columns_keyword_span: 41..48,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"x\",\n                                span: 49..50,\n                            },\n                            data_type: DataType {\n                                identifier: 51..54,\n                                type_: Int(\n                                    None,\n                                ),\n                                properties: [],\n                            },\n                            path_span: 55..59,\n                            path: String(\n                                SString {\n                                    value: \"$\",\n                                    span: 60..63,\n                                },\n                            ),\n                            on_empty: Some(\n                                (\n                                    Default(\n                                        String(\n                                            SString {\n                                                value: \"0\",\n                                                span: 72..75,\n                                            },\n                                        ),\n                                    ),\n                                    64..84,\n                                ),\n                            ),\n                            on_error: Some(\n                                (\n                                    Null(\n                                        85..89,\n                                    ),\n                                    85..98,\n                                ),\n                            ),\n                        },\n                    ],\n                    as_span: Some(\n                        101..103,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 104..105,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE('[1,2]', '$[*]' COLUMNS(x INT PATH '$' ERROR ON EMPTY DEFAULT '0' ON ERROR)) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"[1,2]\",\n                            span: 25..32,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 34..40,\n                        },\n                    ),\n                    columns_keyword_span: 41..48,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"x\",\n                                span: 49..50,\n                            },\n                            data_type: DataType {\n                                identifier: 51..54,\n                                type_: Int(\n                                    None,\n                                ),\n                                properties: [],\n                            },\n                            path_span: 55..59,\n                            path: String(\n                                SString {\n                                    value: \"$\",\n                                    span: 60..63,\n                                },\n                            ),\n                            on_empty: Some(\n                                (\n                                    Error(\n                                        64..69,\n                                    ),\n                                    64..78,\n                                ),\n                            ),\n                            on_error: Some(\n                                (\n                                    Default(\n                                        String(\n                                            SString {\n                                                value: \"0\",\n                                                span: 87..90,\n                                            },\n                                        ),\n                                    ),\n                                    79..99,\n                                ),\n                            ),\n                        },\n                    ],\n                    as_span: Some(\n                        102..104,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 105..106,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE('[1,2]', '$[*]' COLUMNS(x INT PATH '$' ERROR ON EMPTY)) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"[1,2]\",\n                            span: 25..32,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 34..40,\n                        },\n                    ),\n                    columns_keyword_span: 41..48,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"x\",\n                                span: 49..50,\n                            },\n                            data_type: DataType {\n                                identifier: 51..54,\n                                type_: Int(\n                                    None,\n                                ),\n                                properties: [],\n                            },\n                            path_span: 55..59,\n                            path: String(\n                                SString {\n                                    value: \"$\",\n                                    span: 60..63,\n                                },\n                            ),\n                            on_empty: Some(\n                                (\n                                    Error(\n                                        64..69,\n                                    ),\n                                    64..78,\n                                ),\n                            ),\n                            on_error: None,\n                        },\n                    ],\n                    as_span: Some(\n                        81..83,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 84..85,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE('[1,2]', '$[*]' COLUMNS(x INT PATH '$' ERROR ON ERROR)) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"[1,2]\",\n                            span: 25..32,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 34..40,\n                        },\n                    ),\n                    columns_keyword_span: 41..48,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"x\",\n                                span: 49..50,\n                            },\n                            data_type: DataType {\n                                identifier: 51..54,\n                                type_: Int(\n                                    None,\n                                ),\n                                properties: [],\n                            },\n                            path_span: 55..59,\n                            path: String(\n                                SString {\n                                    value: \"$\",\n                                    span: 60..63,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: Some(\n                                (\n                                    Error(\n                                        64..69,\n                                    ),\n                                    64..78,\n                                ),\n                            ),\n                        },\n                    ],\n                    as_span: Some(\n                        81..83,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 84..85,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE('[[1, 2], [3, 4]]', '$[*]' COLUMNS(a INT PATH '$[0]', b INT PATH '$[1]')) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"[[1, 2], [3, 4]]\",\n                            span: 25..43,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 45..51,\n                        },\n                    ),\n                    columns_keyword_span: 52..59,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"a\",\n                                span: 60..61,\n                            },\n                            data_type: DataType {\n                                identifier: 62..65,\n                                type_: Int(\n                                    None,\n                                ),\n                                properties: [],\n                            },\n                            path_span: 66..70,\n                            path: String(\n                                SString {\n                                    value: \"$[0]\",\n                                    span: 71..77,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: None,\n                        },\n                        Column {\n                            name: Identifier {\n                                value: \"b\",\n                                span: 79..80,\n                            },\n                            data_type: DataType {\n                                identifier: 81..84,\n                                type_: Int(\n                                    None,\n                                ),\n                                properties: [],\n                            },\n                            path_span: 85..89,\n                            path: String(\n                                SString {\n                                    value: \"$[1]\",\n                                    span: 90..96,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: None,\n                        },\n                    ],\n                    as_span: Some(\n                        99..101,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 102..103,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE('[{}, {\"x\":1}]', '$[*]' COLUMNS(x INT EXISTS PATH '$.x')) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"[{}, {\\\"x\\\":1}]\",\n                            span: 25..40,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 42..48,\n                        },\n                    ),\n                    columns_keyword_span: 49..56,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"x\",\n                                span: 57..58,\n                            },\n                            data_type: DataType {\n                                identifier: 59..62,\n                                type_: Int(\n                                    None,\n                                ),\n                                properties: [],\n                            },\n                            path_span: 70..74,\n                            path: String(\n                                SString {\n                                    value: \"$.x\",\n                                    span: 75..80,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: None,\n                        },\n                    ],\n                    as_span: Some(\n                        83..85,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 86..87,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE('{\"''\": [1,2,3]}', '$.\"''\"[*]' COLUMNS(a VARCHAR(20) PATH '$')) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: String(\n                        SString {\n                            value: \"{\\\"'\\\": [1,2,3]}\",\n                            span: 25..42,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$.\\\"''\\\"[*]\",\n                            span: 44..55,\n                        },\n                    ),\n                    columns_keyword_span: 56..63,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"a\",\n                                span: 64..65,\n                            },\n                            data_type: DataType {\n                                identifier: 66..73,\n                                type_: VarChar(\n                                    Some(\n                                        (\n                                            20,\n                                            74..76,\n                                        ),\n                                    ),\n                                ),\n                                properties: [],\n                            },\n                            path_span: 78..82,\n                            path: String(\n                                SString {\n                                    value: \"$\",\n                                    span: 83..86,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: None,\n                        },\n                    ],\n                    as_span: Some(\n                        89..91,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 92..93,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM JSON_TABLE(?, '$[*]' COLUMNS(a VARCHAR(20) PATH '$')) AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 14..24,\n                    json_expr: Arg(\n                        ArgExpression {\n                            index: 0,\n                            span: 25..26,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 28..34,\n                        },\n                    ),\n                    columns_keyword_span: 35..42,\n                    columns: [\n                        Column {\n                            name: Identifier {\n                                value: \"a\",\n                                span: 43..44,\n                            },\n                            data_type: DataType {\n                                identifier: 45..52,\n                                type_: VarChar(\n                                    Some(\n                                        (\n                                            20,\n                                            53..55,\n                                        ),\n                                    ),\n                                ),\n                                properties: [],\n                            },\n                            path_span: 57..61,\n                            path: String(\n                                SString {\n                                    value: \"$\",\n                                    span: 62..65,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: None,\n                        },\n                    ],\n                    as_span: Some(\n                        68..70,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 71..72,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 14..23,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM tb WHERE MATCH (c1) AGAINST ('string' IN BOOLEAN MODE)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"tb\",\n                            span: 14..16,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                MatchAgainst(\n                    MatchAgainstExpression {\n                        match_span: 23..28,\n                        columns: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c1\",\n                                                span: 30..32,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        ],\n                        against_span: 34..41,\n                        expr: String(\n                            SString {\n                                value: \"string\",\n                                span: 43..51,\n                            },\n                        ),\n                        mode: Some(\n                            InBoolean(\n                                55..67,\n                            ),\n                        ),\n                    },\n                ),\n                17..22,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM tb WHERE MATCH (c1) AGAINST ('string' IN NATURAL LANGUAGE MODE WITH QUERY EXPANSION)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"tb\",\n                            span: 14..16,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                MatchAgainst(\n                    MatchAgainstExpression {\n                        match_span: 23..28,\n                        columns: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c1\",\n                                                span: 30..32,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        ],\n                        against_span: 34..41,\n                        expr: String(\n                            SString {\n                                value: \"string\",\n                                span: 43..51,\n                            },\n                        ),\n                        mode: Some(\n                            InNaturalLanguageWithQueryExpansion(\n                                55..97,\n                            ),\n                        ),\n                    },\n                ),\n                17..22,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM tb WHERE MATCH (c1) AGAINST ('string' IN NATURAL LANGUAGE MODE)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"tb\",\n                            span: 14..16,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                MatchAgainst(\n                    MatchAgainstExpression {\n                        match_span: 23..28,\n                        columns: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c1\",\n                                                span: 30..32,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        ],\n                        against_span: 34..41,\n                        expr: String(\n                            SString {\n                                value: \"string\",\n                                span: 43..51,\n                            },\n                        ),\n                        mode: Some(\n                            InNaturalLanguage(\n                                55..76,\n                            ),\n                        ),\n                    },\n                ),\n                17..22,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM tb WHERE MATCH (c1) AGAINST ('string' WITH QUERY EXPANSION)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"tb\",\n                            span: 14..16,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                MatchAgainst(\n                    MatchAgainstExpression {\n                        match_span: 23..28,\n                        columns: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c1\",\n                                                span: 30..32,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        ],\n                        against_span: 34..41,\n                        expr: String(\n                            SString {\n                                value: \"string\",\n                                span: 43..51,\n                            },\n                        ),\n                        mode: Some(\n                            WithQueryExpansion(\n                                52..72,\n                            ),\n                        ),\n                    },\n                ),\n                17..22,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM tb WHERE MATCH (c1) AGAINST ('string')",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"tb\",\n                            span: 14..16,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                MatchAgainst(\n                    MatchAgainstExpression {\n                        match_span: 23..28,\n                        columns: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c1\",\n                                                span: 30..32,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        ],\n                        against_span: 34..41,\n                        expr: String(\n                            SString {\n                                value: \"string\",\n                                span: 43..51,\n                            },\n                        ),\n                        mode: None,\n                    },\n                ),\n                17..22,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM tb WHERE MATCH (c1) AGAINST (123)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"tb\",\n                            span: 14..16,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                MatchAgainst(\n                    MatchAgainstExpression {\n                        match_span: 23..28,\n                        columns: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c1\",\n                                                span: 30..32,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        ],\n                        against_span: 34..41,\n                        expr: Integer(\n                            IntegerExpression {\n                                value: 123,\n                                span: 43..46,\n                            },\n                        ),\n                        mode: None,\n                    },\n                ),\n                17..22,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM tb WHERE MATCH (c1) AGAINST (NULL)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"tb\",\n                            span: 14..16,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                MatchAgainst(\n                    MatchAgainstExpression {\n                        match_span: 23..28,\n                        columns: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c1\",\n                                                span: 30..32,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        ],\n                        against_span: 34..41,\n                        expr: Null(\n                            NullExpression {\n                                span: 43..47,\n                            },\n                        ),\n                        mode: None,\n                    },\n                ),\n                17..22,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM tb WHERE MATCH (c1, c2, c3) AGAINST ('string')",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"tb\",\n                            span: 14..16,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                MatchAgainst(\n                    MatchAgainstExpression {\n                        match_span: 23..28,\n                        columns: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c1\",\n                                                span: 30..32,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c2\",\n                                                span: 34..36,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"c3\",\n                                                span: 38..40,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        ],\n                        against_span: 42..49,\n                        expr: String(\n                            SString {\n                                value: \"string\",\n                                span: 51..59,\n                            },\n                        ),\n                        mode: None,\n                    },\n                ),\n                17..22,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT * FROM user LIMIT ? OFFSET ?",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                7..8,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            9..13,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"user\",\n                            span: 14..18,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: Some(\n            (\n                19..24,\n                Some(\n                    Arg(\n                        ArgExpression {\n                            index: 1,\n                            span: 34..35,\n                        },\n                    ),\n                ),\n                Arg(\n                    ArgExpression {\n                        index: 0,\n                        span: 25..26,\n                    },\n                ),\n            ),\n        ),\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 1 WHERE 'a' NOT REGEXP '^a$'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Integer(\n                    IntegerExpression {\n                        value: 1,\n                        span: 7..8,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: NotRegexp,\n                        op_span: 19..29,\n                        lhs: String(\n                            SString {\n                                value: \"a\",\n                                span: 15..18,\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"^a$\",\n                                span: 30..35,\n                            },\n                        ),\n                    },\n                ),\n                9..14,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 1 WHERE 'a' NOT RLIKE '^a$'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Integer(\n                    IntegerExpression {\n                        value: 1,\n                        span: 7..8,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: NotRlike,\n                        op_span: 19..28,\n                        lhs: String(\n                            SString {\n                                value: \"a\",\n                                span: 15..18,\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"^a$\",\n                                span: 29..34,\n                            },\n                        ),\n                    },\n                ),\n                9..14,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 1 WHERE 'a' REGEXP '^a$'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Integer(\n                    IntegerExpression {\n                        value: 1,\n                        span: 7..8,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: Regexp,\n                        op_span: 19..25,\n                        lhs: String(\n                            SString {\n                                value: \"a\",\n                                span: 15..18,\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"^a$\",\n                                span: 26..31,\n                            },\n                        ),\n                    },\n                ),\n                9..14,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 1 WHERE 'a' RLIKE '^a$'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Integer(\n                    IntegerExpression {\n                        value: 1,\n                        span: 7..8,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: Rlike,\n                        op_span: 19..24,\n                        lhs: String(\n                            SString {\n                                value: \"a\",\n                                span: 15..18,\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"^a$\",\n                                span: 25..30,\n                            },\n                        ),\n                    },\n                ),\n                9..14,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 123col_$@123abc FROM \"table\"",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'subquery or identifier' here\",\n    span: 28..35,\n    sql_segment: \"\\\"table\\\"\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "SELECT 123e4, 123col_$@123abc FROM \"table\"",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected 'subquery or identifier' here\",\n    span: 35..42,\n    sql_segment: \"\\\"table\\\"\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "SELECT 15e29 FROM my_table",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Float(\n                    FloatExpression {\n                        value: 1.5e30,\n                        span: 7..12,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            13..17,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"my_table\",\n                            span: 18..26,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 17 MEMBER OF('[23, \"abc\", 17, \"ab\", 10]')",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: MemberOf(\n                    MemberOfExpression {\n                        lhs: Integer(\n                            IntegerExpression {\n                                value: 17,\n                                span: 7..9,\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"[23, \\\"abc\\\", 17, \\\"ab\\\", 10]\",\n                                span: 20..47,\n                            },\n                        ),\n                        member_of_span: 10..19,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 1db.1table.1column",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expression should not follow expression\",\n    span: 12..17,\n    sql_segment: \"table\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "SELECT 5 % 2",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Mod,\n                        op_span: 9..10,\n                        lhs: Integer(\n                            IntegerExpression {\n                                value: 5,\n                                span: 7..8,\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 2,\n                                span: 11..12,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 5 DIV 2",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Div,\n                        op_span: 9..12,\n                        lhs: Integer(\n                            IntegerExpression {\n                                value: 5,\n                                span: 7..8,\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 2,\n                                span: 13..14,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT 5 MOD 2",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Mod,\n                        op_span: 9..12,\n                        lhs: Integer(\n                            IntegerExpression {\n                                value: 5,\n                                span: 7..8,\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 2,\n                                span: 13..14,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT @price := price, @tax := price * 0.1 FROM products WHERE id = 1",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Assignment,\n                        op_span: 14..16,\n                        lhs: UserVariable(\n                            UserVariableExpression {\n                                name: Identifier {\n                                    value: \"price\",\n                                    span: 8..13,\n                                },\n                                at_span: 7..8,\n                            },\n                        ),\n                        rhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"price\",\n                                            span: 17..22,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Assignment,\n                        op_span: 29..31,\n                        lhs: UserVariable(\n                            UserVariableExpression {\n                                name: Identifier {\n                                    value: \"tax\",\n                                    span: 25..28,\n                                },\n                                at_span: 24..25,\n                            },\n                        ),\n                        rhs: Binary(\n                            BinaryExpression {\n                                op: Mult,\n                                op_span: 38..39,\n                                lhs: Identifier(\n                                    IdentifierExpression {\n                                        parts: [\n                                            Name(\n                                                Identifier {\n                                                    value: \"price\",\n                                                    span: 32..37,\n                                                },\n                                            ),\n                                        ],\n                                    },\n                                ),\n                                rhs: Float(\n                                    FloatExpression {\n                                        value: 0.1,\n                                        span: 40..43,\n                                    },\n                                ),\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            44..48,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"products\",\n                            span: 49..57,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: Eq,\n                        op_span: 67..68,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"id\",\n                                            span: 64..66,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 1,\n                                span: 69..70,\n                            },\n                        ),\n                    },\n                ),\n                58..63,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT ALL * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            All(\n                7..10,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                11..12,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            13..17,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 18..27,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT ALL ALL * FROM t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            All(\n                7..10,\n            ),\n            All(\n                11..14,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                15..16,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            17..21,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"t\",\n                            span: 22..23,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT ALL DISTINCT * FROM t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            All(\n                7..10,\n            ),\n            Distinct(\n                11..19,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                20..21,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            22..26,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"t\",\n                            span: 27..28,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT ALL DISTINCTROW * FROM t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            All(\n                7..10,\n            ),\n            DistinctRow(\n                11..22,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                23..24,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            25..29,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"t\",\n                            span: 30..31,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT ALL HIGH_PRIORITY * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            All(\n                7..10,\n            ),\n            HighPriority(\n                11..24,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                25..26,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            27..31,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 32..41,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT ALL HIGH_PRIORITY SQL_CALC_FOUND_ROWS * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            All(\n                7..10,\n            ),\n            HighPriority(\n                11..24,\n            ),\n            SqlCalcFoundRows(\n                25..44,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                45..46,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            47..51,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 52..61,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT ALL HIGH_PRIORITY STRAIGHT_JOIN * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            All(\n                7..10,\n            ),\n            HighPriority(\n                11..24,\n            ),\n            StraightJoin(\n                25..38,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                39..40,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            41..45,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 46..55,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT B'111'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"\ufffd\",\n                        span: 7..13,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT CONVERT('abc', CHAR(60))",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Convert(\n                    ConvertExpression {\n                        convert_span: 7..14,\n                        expr: String(\n                            SString {\n                                value: \"abc\",\n                                span: 15..20,\n                            },\n                        ),\n                        type_: Some(\n                            DataType {\n                                identifier: 22..26,\n                                type_: Char(\n                                    Some(\n                                        (\n                                            60,\n                                            27..29,\n                                        ),\n                                    ),\n                                ),\n                                properties: [],\n                            },\n                        ),\n                        using_charset: None,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT CONVERT('test', CHAR CHARACTER SET utf8mb4)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Convert(\n                    ConvertExpression {\n                        convert_span: 7..14,\n                        expr: String(\n                            SString {\n                                value: \"test\",\n                                span: 15..21,\n                            },\n                        ),\n                        type_: Some(\n                            DataType {\n                                identifier: 23..27,\n                                type_: Char(\n                                    None,\n                                ),\n                                properties: [\n                                    Charset(\n                                        Identifier {\n                                            value: \"utf8mb4\",\n                                            span: 42..49,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        using_charset: None,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT CONVERT('x' USING latin1)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Convert(\n                    ConvertExpression {\n                        convert_span: 7..14,\n                        expr: String(\n                            SString {\n                                value: \"x\",\n                                span: 15..18,\n                            },\n                        ),\n                        type_: None,\n                        using_charset: Some(\n                            (\n                                25..31,\n                                Identifier {\n                                    value: \"latin1\",\n                                    span: 25..31,\n                                },\n                            ),\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT CONVERT(123.456, DECIMAL(5,2))",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Convert(\n                    ConvertExpression {\n                        convert_span: 7..14,\n                        expr: Float(\n                            FloatExpression {\n                                value: 123.456,\n                                span: 15..22,\n                            },\n                        ),\n                        type_: Some(\n                            DataType {\n                                identifier: 24..31,\n                                type_: Decimal(\n                                    Some(\n                                        (\n                                            5,\n                                            2,\n                                            31..36,\n                                        ),\n                                    ),\n                                ),\n                                properties: [],\n                            },\n                        ),\n                        using_charset: None,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT CONVERT(my_column USING utf8mb4) FROM my_table",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Convert(\n                    ConvertExpression {\n                        convert_span: 7..14,\n                        expr: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"my_column\",\n                                            span: 15..24,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        type_: None,\n                        using_charset: Some(\n                            (\n                                31..38,\n                                Identifier {\n                                    value: \"utf8mb4\",\n                                    span: 31..38,\n                                },\n                            ),\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            40..44,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"my_table\",\n                            span: 45..53,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT COUNT(IF(MATCH (title, body) AGAINST ('database' IN NATURAL LANGUAGE MODE), 1, NULL)) AS count FROM articles",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Count(\n                    CountExpression {\n                        count_span: 7..12,\n                        distinct_span: None,\n                        expr: Function(\n                            FunctionCallExpression {\n                                function: If,\n                                args: [\n                                    MatchAgainst(\n                                        MatchAgainstExpression {\n                                            match_span: 16..21,\n                                            columns: [\n                                                Identifier(\n                                                    IdentifierExpression {\n                                                        parts: [\n                                                            Name(\n                                                                Identifier {\n                                                                    value: \"title\",\n                                                                    span: 23..28,\n                                                                },\n                                                            ),\n                                                        ],\n                                                    },\n                                                ),\n                                                Identifier(\n                                                    IdentifierExpression {\n                                                        parts: [\n                                                            Name(\n                                                                Identifier {\n                                                                    value: \"body\",\n                                                                    span: 30..34,\n                                                                },\n                                                            ),\n                                                        ],\n                                                    },\n                                                ),\n                                            ],\n                                            against_span: 36..43,\n                                            expr: String(\n                                                SString {\n                                                    value: \"database\",\n                                                    span: 45..55,\n                                                },\n                                            ),\n                                            mode: Some(\n                                                InNaturalLanguage(\n                                                    59..80,\n                                                ),\n                                            ),\n                                        },\n                                    ),\n                                    Integer(\n                                        IntegerExpression {\n                                            value: 1,\n                                            span: 83..84,\n                                        },\n                                    ),\n                                    Null(\n                                        NullExpression {\n                                            span: 86..90,\n                                        },\n                                    ),\n                                ],\n                                function_span: 13..15,\n                            },\n                        ),\n                    },\n                ),\n                as_: Some(\n                    Identifier {\n                        value: \"count\",\n                        span: 96..101,\n                    },\n                ),\n            },\n        ],\n        from_span: Some(\n            102..106,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"articles\",\n                            span: 107..115,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                16..17,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            18..22,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 23..32,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT ALL * FROM t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            All(\n                16..19,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                20..21,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            22..26,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"t\",\n                            span: 27..28,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT DISTINCT * FROM t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            Distinct(\n                16..24,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                25..26,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            27..31,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"t\",\n                            span: 32..33,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT DISTINCTROW * FROM t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            DistinctRow(\n                16..27,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                28..29,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            30..34,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"t\",\n                            span: 35..36,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT HIGH_PRIORITY * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            HighPriority(\n                16..29,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                30..31,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            32..36,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 37..46,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT HIGH_PRIORITY SQL_CALC_FOUND_ROWS * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            HighPriority(\n                16..29,\n            ),\n            SqlCalcFoundRows(\n                30..49,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                50..51,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            52..56,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 57..66,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT HIGH_PRIORITY SQL_SMALL_RESULT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            HighPriority(\n                16..29,\n            ),\n            SqlSmallResult(\n                30..46,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                47..48,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            49..53,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 54..63,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT HIGH_PRIORITY STRAIGHT_JOIN SQL_SMALL_RESULT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            HighPriority(\n                16..29,\n            ),\n            StraightJoin(\n                30..43,\n            ),\n            SqlSmallResult(\n                44..60,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                61..62,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            63..67,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 68..77,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT HIGH_PRIORITY emp_no FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            HighPriority(\n                16..29,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"emp_no\",\n                                    span: 30..36,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            37..41,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 42..51,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT SQL_CALC_FOUND_ROWS * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            SqlCalcFoundRows(\n                16..35,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                36..37,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            38..42,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 43..52,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT SQL_CALC_FOUND_ROWS emp_no FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            SqlCalcFoundRows(\n                16..35,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"emp_no\",\n                                    span: 36..42,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            43..47,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 48..57,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT SQL_NO_CACHE SQL_CALC_FOUND_ROWS * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            SqlNoCache(\n                16..28,\n            ),\n            SqlCalcFoundRows(\n                29..48,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                49..50,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            51..55,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 56..65,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT STRAIGHT_JOIN emp_no FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n            StraightJoin(\n                16..29,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"emp_no\",\n                                    span: 30..36,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            37..41,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 42..51,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCT SUBSTRING(description, 0, 1) FROM test",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            Distinct(\n                7..15,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Function(\n                    FunctionCallExpression {\n                        function: SubStr,\n                        args: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"description\",\n                                                span: 26..37,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                            Integer(\n                                IntegerExpression {\n                                    value: 0,\n                                    span: 39..40,\n                                },\n                            ),\n                            Integer(\n                                IntegerExpression {\n                                    value: 1,\n                                    span: 42..43,\n                                },\n                            ),\n                        ],\n                        function_span: 16..25,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            45..49,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"test\",\n                            span: 50..54,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCTROW * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            DistinctRow(\n                7..18,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                19..20,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            21..25,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 26..35,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT DISTINCTROW DISTINCTROW * FROM t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            DistinctRow(\n                7..18,\n            ),\n            DistinctRow(\n                19..30,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                31..32,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            33..37,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"t\",\n                            span: 38..39,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                21..22,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            23..27,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 28..37,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY ALL * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            All(\n                21..24,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                25..26,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            27..31,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 32..41,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY ALL STRAIGHT_JOIN * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            All(\n                21..24,\n            ),\n            StraightJoin(\n                25..38,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                39..40,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            41..45,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 46..55,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY DISTINCT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            Distinct(\n                21..29,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                30..31,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            32..36,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 37..46,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY DISTINCT HIGH_PRIORITY * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            Distinct(\n                21..29,\n            ),\n            HighPriority(\n                30..43,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                44..45,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            46..50,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 51..60,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY DISTINCT SQL_SMALL_RESULT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            Distinct(\n                21..29,\n            ),\n            SqlSmallResult(\n                30..46,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                47..48,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            49..53,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 54..63,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY DISTINCTROW * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            DistinctRow(\n                21..32,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                33..34,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            35..39,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 40..49,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY HIGH_PRIORITY * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            HighPriority(\n                21..34,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                35..36,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            37..41,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 42..51,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY STRAIGHT_JOIN DISTINCT SQL_SMALL_RESULT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            StraightJoin(\n                21..34,\n            ),\n            Distinct(\n                35..43,\n            ),\n            SqlSmallResult(\n                44..60,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                61..62,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            63..67,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 68..77,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY STRAIGHT_JOIN SQL_SMALL_RESULT SQL_BIG_RESULT SQL_BUFFER_RESULT SQL_NO_CACHE SQL_CALC_FOUND_ROWS * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            StraightJoin(\n                21..34,\n            ),\n            SqlSmallResult(\n                35..51,\n            ),\n            SqlBigResult(\n                52..66,\n            ),\n            SqlBufferResult(\n                67..84,\n            ),\n            SqlNoCache(\n                85..97,\n            ),\n            SqlCalcFoundRows(\n                98..117,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                118..119,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            120..124,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 125..134,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT HIGH_PRIORITY STRAIGHT_JOIN e.emp_no, d.dept_no FROM employees e JOIN dept_emp d ON e.emp_no = d.emp_no",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            HighPriority(\n                7..20,\n            ),\n            StraightJoin(\n                21..34,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"e\",\n                                    span: 35..36,\n                                },\n                            ),\n                            Name(\n                                Identifier {\n                                    value: \"emp_no\",\n                                    span: 37..43,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"d\",\n                                    span: 45..46,\n                                },\n                            ),\n                            Name(\n                                Identifier {\n                                    value: \"dept_no\",\n                                    span: 47..54,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            55..59,\n        ),\n        table_references: Some(\n            [\n                Join {\n                    join: Normal(\n                        72..76,\n                    ),\n                    left: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"employees\",\n                                span: 60..69,\n                            },\n                        },\n                        as_span: None,\n                        as_: Some(\n                            Identifier {\n                                value: \"e\",\n                                span: 70..71,\n                            },\n                        ),\n                        index_hints: [],\n                    },\n                    right: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"dept_emp\",\n                                span: 77..85,\n                            },\n                        },\n                        as_span: None,\n                        as_: Some(\n                            Identifier {\n                                value: \"d\",\n                                span: 86..87,\n                            },\n                        ),\n                        index_hints: [],\n                    },\n                    specification: Some(\n                        On(\n                            Binary(\n                                BinaryExpression {\n                                    op: Eq,\n                                    op_span: 100..101,\n                                    lhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"e\",\n                                                        span: 91..92,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"emp_no\",\n                                                        span: 93..99,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                    rhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"d\",\n                                                        span: 102..103,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"emp_no\",\n                                                        span: 104..110,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                },\n                            ),\n                            88..90,\n                        ),\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_BIG_RESULT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlBigResult(\n                7..21,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                22..23,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            24..28,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 29..38,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_BUFFER_RESULT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlBufferResult(\n                7..24,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                25..26,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            27..31,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 32..41,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_CALC_FOUND_ROWS * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlCalcFoundRows(\n                7..26,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                27..28,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            29..33,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 34..43,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_CALC_FOUND_ROWS ALL HIGH_PRIORITY * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlCalcFoundRows(\n                7..26,\n            ),\n            All(\n                27..30,\n            ),\n            HighPriority(\n                31..44,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                45..46,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            47..51,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 52..61,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_CALC_FOUND_ROWS DISTINCT HIGH_PRIORITY * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlCalcFoundRows(\n                7..26,\n            ),\n            Distinct(\n                27..35,\n            ),\n            HighPriority(\n                36..49,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                50..51,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            52..56,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 57..66,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_CALC_FOUND_ROWS DISTINCT SQL_CALC_FOUND_ROWS * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlCalcFoundRows(\n                7..26,\n            ),\n            Distinct(\n                27..35,\n            ),\n            SqlCalcFoundRows(\n                36..55,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                56..57,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            58..62,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 63..72,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_CALC_FOUND_ROWS SQL_CALC_FOUND_ROWS * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlCalcFoundRows(\n                7..26,\n            ),\n            SqlCalcFoundRows(\n                27..46,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                47..48,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            49..53,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 54..63,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_CALC_FOUND_ROWS SQL_NO_CACHE SQL_BUFFER_RESULT SQL_BIG_RESULT SQL_SMALL_RESULT STRAIGHT_JOIN HIGH_PRIORITY * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlCalcFoundRows(\n                7..26,\n            ),\n            SqlNoCache(\n                27..39,\n            ),\n            SqlBufferResult(\n                40..57,\n            ),\n            SqlBigResult(\n                58..72,\n            ),\n            SqlSmallResult(\n                73..89,\n            ),\n            StraightJoin(\n                90..103,\n            ),\n            HighPriority(\n                104..117,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                118..119,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            120..124,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 125..134,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_NO_CACHE * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlNoCache(\n                7..19,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                20..21,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            22..26,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 27..36,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_NO_CACHE DISTINCT SQL_CALC_FOUND_ROWS * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlNoCache(\n                7..19,\n            ),\n            Distinct(\n                20..28,\n            ),\n            SqlCalcFoundRows(\n                29..48,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                49..50,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            51..55,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 56..65,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_NO_CACHE SQL_NO_CACHE * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlNoCache(\n                7..19,\n            ),\n            SqlNoCache(\n                20..32,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                33..34,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            35..39,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 40..49,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT SQL_SMALL_RESULT * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            SqlSmallResult(\n                7..23,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                24..25,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            26..30,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 31..40,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT STRAIGHT_JOIN * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            StraightJoin(\n                7..20,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                21..22,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            23..27,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 28..37,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT STRAIGHT_JOIN * FROM employees e JOIN dept_emp d ON e.emp_no = d.emp_no WHERE d.emp_no = 10001",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            StraightJoin(\n                7..20,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                21..22,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            23..27,\n        ),\n        table_references: Some(\n            [\n                Join {\n                    join: Normal(\n                        40..44,\n                    ),\n                    left: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"employees\",\n                                span: 28..37,\n                            },\n                        },\n                        as_span: None,\n                        as_: Some(\n                            Identifier {\n                                value: \"e\",\n                                span: 38..39,\n                            },\n                        ),\n                        index_hints: [],\n                    },\n                    right: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"dept_emp\",\n                                span: 45..53,\n                            },\n                        },\n                        as_span: None,\n                        as_: Some(\n                            Identifier {\n                                value: \"d\",\n                                span: 54..55,\n                            },\n                        ),\n                        index_hints: [],\n                    },\n                    specification: Some(\n                        On(\n                            Binary(\n                                BinaryExpression {\n                                    op: Eq,\n                                    op_span: 68..69,\n                                    lhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"e\",\n                                                        span: 59..60,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"emp_no\",\n                                                        span: 61..67,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                    rhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"d\",\n                                                        span: 70..71,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"emp_no\",\n                                                        span: 72..78,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                },\n                            ),\n                            56..58,\n                        ),\n                    ),\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: Eq,\n                        op_span: 94..95,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"d\",\n                                            span: 85..86,\n                                        },\n                                    ),\n                                    Name(\n                                        Identifier {\n                                            value: \"emp_no\",\n                                            span: 87..93,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 10001,\n                                span: 96..101,\n                            },\n                        ),\n                    },\n                ),\n                79..84,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT STRAIGHT_JOIN STRAIGHT_JOIN * FROM employees",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            StraightJoin(\n                7..20,\n            ),\n            StraightJoin(\n                21..34,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Star(\n                                35..36,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            37..41,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"employees\",\n                            span: 42..51,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT STRAIGHT_JOIN e.emp_no, d.dept_no FROM employees e JOIN dept_emp d ON e.emp_no = d.emp_no",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [\n            StraightJoin(\n                7..20,\n            ),\n        ],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"e\",\n                                    span: 21..22,\n                                },\n                            ),\n                            Name(\n                                Identifier {\n                                    value: \"emp_no\",\n                                    span: 23..29,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"d\",\n                                    span: 31..32,\n                                },\n                            ),\n                            Name(\n                                Identifier {\n                                    value: \"dept_no\",\n                                    span: 33..40,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            41..45,\n        ),\n        table_references: Some(\n            [\n                Join {\n                    join: Normal(\n                        58..62,\n                    ),\n                    left: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"employees\",\n                                span: 46..55,\n                            },\n                        },\n                        as_span: None,\n                        as_: Some(\n                            Identifier {\n                                value: \"e\",\n                                span: 56..57,\n                            },\n                        ),\n                        index_hints: [],\n                    },\n                    right: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"dept_emp\",\n                                span: 63..71,\n                            },\n                        },\n                        as_span: None,\n                        as_: Some(\n                            Identifier {\n                                value: \"d\",\n                                span: 72..73,\n                            },\n                        ),\n                        index_hints: [],\n                    },\n                    specification: Some(\n                        On(\n                            Binary(\n                                BinaryExpression {\n                                    op: Eq,\n                                    op_span: 86..87,\n                                    lhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"e\",\n                                                        span: 77..78,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"emp_no\",\n                                                        span: 79..85,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                    rhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"d\",\n                                                        span: 88..89,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"emp_no\",\n                                                        span: 90..96,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                },\n                            ),\n                            74..76,\n                        ),\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT _binary 'abc'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"abc\",\n                        span: 15..20,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT _binary 'abc', _utf8mb4 'abc'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"abc\",\n                        span: 15..20,\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"abc\",\n                        span: 31..36,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT _latin1 X'4D7953514C'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"MySQL\",\n                        span: 15..28,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT _utf8 'abc'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"abc\",\n                        span: 13..18,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT _utf8'abc'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"abc\",\n                        span: 12..17,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT _utf8mb4 'abc'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"abc\",\n                        span: 16..21,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT _utf8mb4'abc'",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: String(\n                    SString {\n                        value: \"abc\",\n                        span: 15..20,\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT `15e29` FROM my_table",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"15e29\",\n                                    span: 7..14,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            15..19,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"my_table\",\n                            span: 20..28,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT `1`.`2`.`3`",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"1\",\n                                    span: 7..10,\n                                },\n                            ),\n                            Name(\n                                Identifier {\n                                    value: \"2\",\n                                    span: 11..14,\n                                },\n                            ),\n                            Name(\n                                Identifier {\n                                    value: \"3\",\n                                    span: 15..18,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT ```quoted identifier```",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"``quoted identifier``\",\n                                    span: 7..30,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT `quoted `` identifier`",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"quoted `` identifier\",\n                                    span: 7..29,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT a, c FROM (VALUES ROW(1, true, 'a'), ROW(2, false, 'b'), ROW(3, false, 'c')) AS t (a, b, c)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"a\",\n                                    span: 7..8,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"c\",\n                                    span: 10..11,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            12..16,\n        ),\n        table_references: Some(\n            [\n                Query {\n                    query: Invalid(\n                        Invalid {\n                            span: 17..18,\n                        },\n                    ),\n                    as_span: Some(\n                        84..86,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 87..88,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected ''SELECET' or '('' here\",\n    span: 18..24,\n    sql_segment: \"VALUES\",\n    fragments: [],\n}",
      "Issue {\n    level: Error,\n    message: \"Expected 'Unexpected token after statement' here\",\n    span: 89..90,\n    sql_segment: \"(\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "SELECT a.*, b.* FROM table_a AS a STRAIGHT_JOIN table_b AS b ON a.b_id = b.id",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"a\",\n                                    span: 7..8,\n                                },\n                            ),\n                            Star(\n                                9..10,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"b\",\n                                    span: 12..13,\n                                },\n                            ),\n                            Star(\n                                14..15,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            16..20,\n        ),\n        table_references: Some(\n            [\n                Join {\n                    join: Straight(\n                        34..47,\n                    ),\n                    left: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"table_a\",\n                                span: 21..28,\n                            },\n                        },\n                        as_span: Some(\n                            29..31,\n                        ),\n                        as_: Some(\n                            Identifier {\n                                value: \"a\",\n                                span: 32..33,\n                            },\n                        ),\n                        index_hints: [],\n                    },\n                    right: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"table_b\",\n                                span: 48..55,\n                            },\n                        },\n                        as_span: Some(\n                            56..58,\n                        ),\n                        as_: Some(\n                            Identifier {\n                                value: \"b\",\n                                span: 59..60,\n                            },\n                        ),\n                        index_hints: [],\n                    },\n                    specification: Some(\n                        On(\n                            Binary(\n                                BinaryExpression {\n                                    op: Eq,\n                                    op_span: 71..72,\n                                    lhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"a\",\n                                                        span: 64..65,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"b_id\",\n                                                        span: 66..70,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                    rhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"b\",\n                                                        span: 73..74,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"id\",\n                                                        span: 75..77,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                },\n                            ),\n                            61..63,\n                        ),\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT a.*, b.* FROM table_a STRAIGHT_JOIN table_b AS b ON a.b_id = b.id",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"a\",\n                                    span: 7..8,\n                                },\n                            ),\n                            Star(\n                                9..10,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"b\",\n                                    span: 12..13,\n                                },\n                            ),\n                            Star(\n                                14..15,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            16..20,\n        ),\n        table_references: Some(\n            [\n                Join {\n                    join: Straight(\n                        29..42,\n                    ),\n                    left: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"table_a\",\n                                span: 21..28,\n                            },\n                        },\n                        as_span: None,\n                        as_: None,\n                        index_hints: [],\n                    },\n                    right: Table {\n                        identifier: QualifiedName {\n                            prefix: [],\n                            identifier: Identifier {\n                                value: \"table_b\",\n                                span: 43..50,\n                            },\n                        },\n                        as_span: Some(\n                            51..53,\n                        ),\n                        as_: Some(\n                            Identifier {\n                                value: \"b\",\n                                span: 54..55,\n                            },\n                        ),\n                        index_hints: [],\n                    },\n                    specification: Some(\n                        On(\n                            Binary(\n                                BinaryExpression {\n                                    op: Eq,\n                                    op_span: 66..67,\n                                    lhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"a\",\n                                                        span: 59..60,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"b_id\",\n                                                        span: 61..65,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                    rhs: Identifier(\n                                        IdentifierExpression {\n                                            parts: [\n                                                Name(\n                                                    Identifier {\n                                                        value: \"b\",\n                                                        span: 68..69,\n                                                    },\n                                                ),\n                                                Name(\n                                                    Identifier {\n                                                        value: \"id\",\n                                                        span: 70..72,\n                                                    },\n                                                ),\n                                            ],\n                                        },\n                                    ),\n                                },\n                            ),\n                            56..58,\n                        ),\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT id, fname, lname FROM customer LIMIT 10 OFFSET 5",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"id\",\n                                    span: 7..9,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"fname\",\n                                    span: 11..16,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"lname\",\n                                    span: 18..23,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            24..28,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"customer\",\n                            span: 29..37,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: Some(\n            (\n                38..43,\n                Some(\n                    Integer(\n                        IntegerExpression {\n                            value: 5,\n                            span: 54..55,\n                        },\n                    ),\n                ),\n                Integer(\n                    IntegerExpression {\n                        value: 10,\n                        span: 44..46,\n                    },\n                ),\n            ),\n        ),\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT id, fname, lname FROM customer LIMIT 5, 10",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"id\",\n                                    span: 7..9,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"fname\",\n                                    span: 11..16,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"lname\",\n                                    span: 18..23,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            24..28,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"customer\",\n                            span: 29..37,\n                        },\n                    },\n                    as_span: None,\n                    as_: None,\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: Some(\n            (\n                38..43,\n                Some(\n                    Integer(\n                        IntegerExpression {\n                            value: 5,\n                            span: 44..45,\n                        },\n                    ),\n                ),\n                Integer(\n                    IntegerExpression {\n                        value: 10,\n                        span: 47..49,\n                    },\n                ),\n            ),\n        ),\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT jt.* FROM JSON_TABLE('[\"Alice\", \"Bob\", \"Charlie\"]', '$[*]' COLUMNS(row_num FOR ORDINALITY, name VARCHAR(50) PATH '$')) AS jt",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"jt\",\n                                    span: 7..9,\n                                },\n                            ),\n                            Star(\n                                10..11,\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            12..16,\n        ),\n        table_references: Some(\n            [\n                JsonTable {\n                    json_table_span: 17..27,\n                    json_expr: String(\n                        SString {\n                            value: \"[\\\"Alice\\\", \\\"Bob\\\", \\\"Charlie\\\"]\",\n                            span: 28..57,\n                        },\n                    ),\n                    path: String(\n                        SString {\n                            value: \"$[*]\",\n                            span: 59..65,\n                        },\n                    ),\n                    columns_keyword_span: 66..73,\n                    columns: [\n                        Ordinality {\n                            name: Identifier {\n                                value: \"row_num\",\n                                span: 74..81,\n                            },\n                            for_ordinality_span: 82..96,\n                        },\n                        Column {\n                            name: Identifier {\n                                value: \"name\",\n                                span: 98..102,\n                            },\n                            data_type: DataType {\n                                identifier: 103..110,\n                                type_: VarChar(\n                                    Some(\n                                        (\n                                            50,\n                                            111..113,\n                                        ),\n                                    ),\n                                ),\n                                properties: [],\n                            },\n                            path_span: 115..119,\n                            path: String(\n                                SString {\n                                    value: \"$\",\n                                    span: 120..123,\n                                },\n                            ),\n                            on_empty: None,\n                            on_error: None,\n                        },\n                    ],\n                    as_span: Some(\n                        126..128,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"jt\",\n                            span: 129..131,\n                        },\n                    ),\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT t.15e29 FROM my_table AS t",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expression should not follow expression\",\n    span: 11..14,\n    sql_segment: \"e29\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "SELECT t.15to29 FROM my_table AS t",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expression should not follow expression\",\n    span: 11..15,\n    sql_segment: \"to29\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "SELECT t.`15e29` FROM my_table AS t",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"t\",\n                                    span: 7..8,\n                                },\n                            ),\n                            Name(\n                                Identifier {\n                                    value: \"15e29\",\n                                    span: 9..16,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            17..21,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"my_table\",\n                            span: 22..30,\n                        },\n                    },\n                    as_span: Some(\n                        31..33,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"t\",\n                            span: 34..35,\n                        },\n                    ),\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT tbl.ProjectID FROM surveys.tbl1 AS tbl WHERE MATCH (tbl.ReferenceID) AGAINST ('AAA' IN BOOLEAN MODE)",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"tbl\",\n                                    span: 7..10,\n                                },\n                            ),\n                            Name(\n                                Identifier {\n                                    value: \"ProjectID\",\n                                    span: 11..20,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: Some(\n            21..25,\n        ),\n        table_references: Some(\n            [\n                Table {\n                    identifier: QualifiedName {\n                        prefix: [\n                            (\n                                Identifier {\n                                    value: \"surveys\",\n                                    span: 26..33,\n                                },\n                                33..34,\n                            ),\n                        ],\n                        identifier: Identifier {\n                            value: \"tbl1\",\n                            span: 34..38,\n                        },\n                    },\n                    as_span: Some(\n                        39..41,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"tbl\",\n                            span: 42..45,\n                        },\n                    ),\n                    index_hints: [],\n                },\n            ],\n        ),\n        where_: Some(\n            (\n                MatchAgainst(\n                    MatchAgainstExpression {\n                        match_span: 52..57,\n                        columns: [\n                            Identifier(\n                                IdentifierExpression {\n                                    parts: [\n                                        Name(\n                                            Identifier {\n                                                value: \"tbl\",\n                                                span: 59..62,\n                                            },\n                                        ),\n                                        Name(\n                                            Identifier {\n                                                value: \"ReferenceID\",\n                                                span: 63..74,\n                                            },\n                                        ),\n                                    ],\n                                },\n                            ),\n                        ],\n                        against_span: 76..83,\n                        expr: String(\n                            SString {\n                                value: \"AAA\",\n                                span: 85..90,\n                            },\n                        ),\n                        mode: Some(\n                            InBoolean(\n                                94..106,\n                            ),\n                        ),\n                    },\n                ),\n                46..51,\n            ),\n        ),\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SELECT true XOR true, false XOR false, true XOR false, false XOR true",
    "output": "Select(\n    Select {\n        select_span: 0..6,\n        flags: [],\n        select_exprs: [\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Xor,\n                        op_span: 12..15,\n                        lhs: Bool(\n                            BoolExpression {\n                                value: true,\n                                span: 7..11,\n                            },\n                        ),\n                        rhs: Bool(\n                            BoolExpression {\n                                value: true,\n                                span: 16..20,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Xor,\n                        op_span: 28..31,\n                        lhs: Bool(\n                            BoolExpression {\n                                value: false,\n                                span: 22..27,\n                            },\n                        ),\n                        rhs: Bool(\n                            BoolExpression {\n                                value: false,\n                                span: 32..37,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Xor,\n                        op_span: 44..47,\n                        lhs: Bool(\n                            BoolExpression {\n                                value: true,\n                                span: 39..43,\n                            },\n                        ),\n                        rhs: Bool(\n                            BoolExpression {\n                                value: false,\n                                span: 48..53,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n            SelectExpr {\n                expr: Binary(\n                    BinaryExpression {\n                        op: Xor,\n                        op_span: 61..64,\n                        lhs: Bool(\n                            BoolExpression {\n                                value: false,\n                                span: 55..60,\n                            },\n                        ),\n                        rhs: Bool(\n                            BoolExpression {\n                                value: true,\n                                span: 65..69,\n                            },\n                        ),\n                    },\n                ),\n                as_: None,\n            },\n        ],\n        from_span: None,\n        table_references: None,\n        where_: None,\n        group_by: None,\n        having: None,\n        window_span: None,\n        order_by: None,\n        limit: None,\n        locking: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW CHARACTER SET",
    "output": "ShowCharacterSet(\n    ShowCharacterSet {\n        show_span: 0..4,\n        character_span: Some(\n            5..14,\n        ),\n        set_span: 15..18,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW CHARACTER SET LIKE 'utf8mb4%'",
    "output": "ShowCharacterSet(\n    ShowCharacterSet {\n        show_span: 0..4,\n        character_span: Some(\n            5..14,\n        ),\n        set_span: 15..18,\n        like: Some(\n            SString {\n                value: \"utf8mb4%\",\n                span: 24..34,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW CHARSET LIKE 'utf8mb4%'",
    "output": "ShowCharacterSet(\n    ShowCharacterSet {\n        show_span: 0..4,\n        character_span: None,\n        set_span: 5..12,\n        like: Some(\n            SString {\n                value: \"utf8mb4%\",\n                span: 18..28,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW CHARSET WHERE charset = 'utf8mb4%'",
    "output": "ShowCharacterSet(\n    ShowCharacterSet {\n        show_span: 0..4,\n        character_span: None,\n        set_span: 5..12,\n        like: None,\n        where_expr: Some(\n            Binary(\n                BinaryExpression {\n                    op: Eq,\n                    op_span: 27..28,\n                    lhs: Identifier(\n                        IdentifierExpression {\n                            parts: [\n                                Name(\n                                    Identifier {\n                                        value: \"charset\",\n                                        span: 19..26,\n                                    },\n                                ),\n                            ],\n                        },\n                    ),\n                    rhs: String(\n                        SString {\n                            value: \"utf8mb4%\",\n                            span: 29..39,\n                        },\n                    ),\n                },\n            ),\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW COLLATION",
    "output": "ShowCollation(\n    ShowCollation {\n        show_span: 0..4,\n        collation_span: 5..14,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW COLLATION LIKE 'pattern'",
    "output": "ShowCollation(\n    ShowCollation {\n        show_span: 0..4,\n        collation_span: 5..14,\n        like: Some(\n            SString {\n                value: \"pattern\",\n                span: 20..29,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW COLLATION WHERE 1 = 2",
    "output": "ShowCollation(\n    ShowCollation {\n        show_span: 0..4,\n        collation_span: 5..14,\n        like: None,\n        where_expr: Some(\n            Binary(\n                BinaryExpression {\n                    op: Eq,\n                    op_span: 23..24,\n                    lhs: Integer(\n                        IntegerExpression {\n                            value: 1,\n                            span: 21..22,\n                        },\n                    ),\n                    rhs: Integer(\n                        IntegerExpression {\n                            value: 2,\n                            span: 25..26,\n                        },\n                    ),\n                },\n            ),\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW COLUMNS FROM mydb.mytable",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 5..12,\n        extended: None,\n        full: None,\n        table: Some(\n            QualifiedName {\n                prefix: [\n                    (\n                        Identifier {\n                            value: \"mydb\",\n                            span: 18..22,\n                        },\n                        22..23,\n                    ),\n                ],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 23..30,\n                },\n            },\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW COLUMNS FROM mytable",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 5..12,\n        extended: None,\n        full: None,\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 18..25,\n                },\n            },\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW COLUMNS FROM mytable FROM mydb",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 5..12,\n        extended: None,\n        full: None,\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 18..25,\n                },\n            },\n        ),\n        db: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mydb\",\n                    span: 31..35,\n                },\n            },\n        ),\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW COLUMNS FROM mytable LIKE 'pattern'",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 5..12,\n        extended: None,\n        full: None,\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 18..25,\n                },\n            },\n        ),\n        db: None,\n        like: Some(\n            SString {\n                value: \"pattern\",\n                span: 31..40,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW COLUMNS FROM mytable WHERE 1 = 2",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 5..12,\n        extended: None,\n        full: None,\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 18..25,\n                },\n            },\n        ),\n        db: None,\n        like: None,\n        where_expr: Some(\n            Binary(\n                BinaryExpression {\n                    op: Eq,\n                    op_span: 34..35,\n                    lhs: Integer(\n                        IntegerExpression {\n                            value: 1,\n                            span: 32..33,\n                        },\n                    ),\n                    rhs: Integer(\n                        IntegerExpression {\n                            value: 2,\n                            span: 36..37,\n                        },\n                    ),\n                },\n            ),\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW COLUMNS IN mytable",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 5..12,\n        extended: None,\n        full: None,\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 16..23,\n                },\n            },\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW CREATE {obj_type} myident",
    "output": null,
    "issues": [
      "Issue {\n    level: Error,\n    message: \"Expected ''TABLE' | 'DATABASE' | 'VIEW'' here\",\n    span: 12..13,\n    sql_segment: \"{\",\n    fragments: [],\n}"
    ],
    "failure": true,
    "should_fail": true
  },
  {
    "input": "SHOW EXTENDED COLUMNS FROM mytable",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 14..21,\n        extended: Some(\n            5..13,\n        ),\n        full: None,\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 27..34,\n                },\n            },\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW EXTENDED FULL COLLATION",
    "output": "ShowCollation(\n    ShowCollation {\n        show_span: 0..4,\n        collation_span: 19..28,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Warning,\n    message: \"Modifier EXTENDED not supported for this SHOW variant\",\n    span: 5..13,\n    sql_segment: \"EXTENDED\",\n    fragments: [],\n}",
      "Issue {\n    level: Warning,\n    message: \"Modifier FULL not supported for this SHOW variant\",\n    span: 14..18,\n    sql_segment: \"FULL\",\n    fragments: [],\n}"
    ]
  },
  {
    "input": "SHOW EXTENDED FULL COLUMNS FROM mytable",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 19..26,\n        extended: Some(\n            5..13,\n        ),\n        full: Some(\n            14..18,\n        ),\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 32..39,\n                },\n            },\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW EXTENDED FULL CREATE TABLE mytable",
    "output": "ShowCreateTable(\n    ShowCreateTable {\n        show_span: 0..4,\n        create_span: 19..25,\n        object_span: 26..31,\n        table: QualifiedName {\n            prefix: [],\n            identifier: Identifier {\n                value: \"mytable\",\n                span: 32..39,\n            },\n        },\n    },\n)",
    "issues": [
      "Issue {\n    level: Warning,\n    message: \"Modifier EXTENDED not supported for this SHOW variant\",\n    span: 5..13,\n    sql_segment: \"EXTENDED\",\n    fragments: [],\n}",
      "Issue {\n    level: Warning,\n    message: \"Modifier FULL not supported for this SHOW variant\",\n    span: 14..18,\n    sql_segment: \"FULL\",\n    fragments: [],\n}"
    ]
  },
  {
    "input": "SHOW EXTENDED FULL TABLES",
    "output": "ShowTables(\n    ShowTables {\n        show_span: 0..4,\n        tables_span: 19..25,\n        extended: Some(\n            5..13,\n        ),\n        full: Some(\n            14..18,\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW EXTENDED FULL VARIABLES",
    "output": "ShowVariables(\n    ShowVariables {\n        show_span: 0..4,\n        variables_span: 19..28,\n        global_span: None,\n        session_span: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": [
      "Issue {\n    level: Warning,\n    message: \"Modifier EXTENDED not supported for this SHOW variant\",\n    span: 5..13,\n    sql_segment: \"EXTENDED\",\n    fragments: [],\n}",
      "Issue {\n    level: Warning,\n    message: \"Modifier FULL not supported for this SHOW variant\",\n    span: 14..18,\n    sql_segment: \"FULL\",\n    fragments: [],\n}"
    ]
  },
  {
    "input": "SHOW EXTENDED TABLES",
    "output": "ShowTables(\n    ShowTables {\n        show_span: 0..4,\n        tables_span: 14..20,\n        extended: Some(\n            5..13,\n        ),\n        full: None,\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW FIELDS FROM mytable",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 5..11,\n        extended: None,\n        full: None,\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 17..24,\n                },\n            },\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW FIELDS IN mytable",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 5..11,\n        extended: None,\n        full: None,\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 15..22,\n                },\n            },\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW FULL COLUMNS FROM mytable",
    "output": "ShowColumns(\n    ShowColumns {\n        show_span: 0..4,\n        columns_span: 10..17,\n        extended: None,\n        full: Some(\n            5..9,\n        ),\n        table: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mytable\",\n                    span: 23..30,\n                },\n            },\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW FULL TABLES",
    "output": "ShowTables(\n    ShowTables {\n        show_span: 0..4,\n        tables_span: 10..16,\n        extended: None,\n        full: Some(\n            5..9,\n        ),\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW GLOBAL STATUS LIKE 'ssl_cipher'",
    "output": "ShowStatus(\n    ShowStatus {\n        show_span: 0..4,\n        status_span: 12..18,\n        global_span: Some(\n            5..11,\n        ),\n        session_span: None,\n        like: Some(\n            SString {\n                value: \"ssl_cipher\",\n                span: 24..36,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW GLOBAL VARIABLES",
    "output": "ShowVariables(\n    ShowVariables {\n        show_span: 0..4,\n        variables_span: 12..21,\n        global_span: Some(\n            5..11,\n        ),\n        session_span: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW GLOBAL VARIABLES LIKE 'admin%'",
    "output": "ShowVariables(\n    ShowVariables {\n        show_span: 0..4,\n        variables_span: 12..21,\n        global_span: Some(\n            5..11,\n        ),\n        session_span: None,\n        like: Some(\n            SString {\n                value: \"admin%\",\n                span: 27..35,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW GLOBAL VARIABLES WHERE value = '3306'",
    "output": "ShowVariables(\n    ShowVariables {\n        show_span: 0..4,\n        variables_span: 12..21,\n        global_span: Some(\n            5..11,\n        ),\n        session_span: None,\n        like: None,\n        where_expr: Some(\n            Binary(\n                BinaryExpression {\n                    op: Eq,\n                    op_span: 34..35,\n                    lhs: Identifier(\n                        IdentifierExpression {\n                            parts: [\n                                Name(\n                                    Identifier {\n                                        value: \"value\",\n                                        span: 28..33,\n                                    },\n                                ),\n                            ],\n                        },\n                    ),\n                    rhs: String(\n                        SString {\n                            value: \"3306\",\n                            span: 36..42,\n                        },\n                    ),\n                },\n            ),\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW SESSION STATUS LIKE 'ssl_cipher'",
    "output": "ShowStatus(\n    ShowStatus {\n        show_span: 0..4,\n        status_span: 13..19,\n        global_span: None,\n        session_span: Some(\n            5..12,\n        ),\n        like: Some(\n            SString {\n                value: \"ssl_cipher\",\n                span: 25..37,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW SESSION VARIABLES",
    "output": "ShowVariables(\n    ShowVariables {\n        show_span: 0..4,\n        variables_span: 13..22,\n        global_span: None,\n        session_span: Some(\n            5..12,\n        ),\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW SESSION VARIABLES LIKE 'admin%'",
    "output": "ShowVariables(\n    ShowVariables {\n        show_span: 0..4,\n        variables_span: 13..22,\n        global_span: None,\n        session_span: Some(\n            5..12,\n        ),\n        like: Some(\n            SString {\n                value: \"admin%\",\n                span: 28..36,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW STATUS WHERE value = 2",
    "output": "ShowStatus(\n    ShowStatus {\n        show_span: 0..4,\n        status_span: 5..11,\n        global_span: None,\n        session_span: None,\n        like: None,\n        where_expr: Some(\n            Binary(\n                BinaryExpression {\n                    op: Eq,\n                    op_span: 24..25,\n                    lhs: Identifier(\n                        IdentifierExpression {\n                            parts: [\n                                Name(\n                                    Identifier {\n                                        value: \"value\",\n                                        span: 18..23,\n                                    },\n                                ),\n                            ],\n                        },\n                    ),\n                    rhs: Integer(\n                        IntegerExpression {\n                            value: 2,\n                            span: 26..27,\n                        },\n                    ),\n                },\n            ),\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW TABLES",
    "output": "ShowTables(\n    ShowTables {\n        show_span: 0..4,\n        tables_span: 5..11,\n        extended: None,\n        full: None,\n        db: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW TABLES FROM mydb",
    "output": "ShowTables(\n    ShowTables {\n        show_span: 0..4,\n        tables_span: 5..11,\n        extended: None,\n        full: None,\n        db: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mydb\",\n                    span: 17..21,\n                },\n            },\n        ),\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW TABLES IN mydb",
    "output": "ShowTables(\n    ShowTables {\n        show_span: 0..4,\n        tables_span: 5..11,\n        extended: None,\n        full: None,\n        db: Some(\n            QualifiedName {\n                prefix: [],\n                identifier: Identifier {\n                    value: \"mydb\",\n                    span: 15..19,\n                },\n            },\n        ),\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW TABLES LIKE 'pattern'",
    "output": "ShowTables(\n    ShowTables {\n        show_span: 0..4,\n        tables_span: 5..11,\n        extended: None,\n        full: None,\n        db: None,\n        like: Some(\n            SString {\n                value: \"pattern\",\n                span: 17..26,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW TABLES WHERE 1 = 2",
    "output": "ShowTables(\n    ShowTables {\n        show_span: 0..4,\n        tables_span: 5..11,\n        extended: None,\n        full: None,\n        db: None,\n        like: None,\n        where_expr: Some(\n            Binary(\n                BinaryExpression {\n                    op: Eq,\n                    op_span: 20..21,\n                    lhs: Integer(\n                        IntegerExpression {\n                            value: 1,\n                            span: 18..19,\n                        },\n                    ),\n                    rhs: Integer(\n                        IntegerExpression {\n                            value: 2,\n                            span: 22..23,\n                        },\n                    ),\n                },\n            ),\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW VARIABLES",
    "output": "ShowVariables(\n    ShowVariables {\n        show_span: 0..4,\n        variables_span: 5..14,\n        global_span: None,\n        session_span: None,\n        like: None,\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW VARIABLES LIKE 'admin%'",
    "output": "ShowVariables(\n    ShowVariables {\n        show_span: 0..4,\n        variables_span: 5..14,\n        global_span: None,\n        session_span: None,\n        like: Some(\n            SString {\n                value: \"admin%\",\n                span: 20..28,\n            },\n        ),\n        where_expr: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "SHOW VARIABLES WHERE value = '3306'",
    "output": "ShowVariables(\n    ShowVariables {\n        show_span: 0..4,\n        variables_span: 5..14,\n        global_span: None,\n        session_span: None,\n        like: None,\n        where_expr: Some(\n            Binary(\n                BinaryExpression {\n                    op: Eq,\n                    op_span: 27..28,\n                    lhs: Identifier(\n                        IdentifierExpression {\n                            parts: [\n                                Name(\n                                    Identifier {\n                                        value: \"value\",\n                                        span: 21..26,\n                                    },\n                                ),\n                            ],\n                        },\n                    ),\n                    rhs: String(\n                        SString {\n                            value: \"3306\",\n                            span: 29..35,\n                        },\n                    ),\n                },\n            ),\n        ),\n    },\n)",
    "issues": []
  },
  {
    "input": "UNLOCK TABLES",
    "output": "Unlock(\n    Unlock {\n        unlock_span: 0..6,\n        tables_span: 7..13,\n    },\n)",
    "issues": []
  },
  {
    "input": "UPDATE account SET balance = balance - -1 WHERE account_id = 5752",
    "output": "Update(\n    Update {\n        update_span: 0..6,\n        flags: [],\n        tables: [\n            Table {\n                identifier: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"account\",\n                        span: 7..14,\n                    },\n                },\n                as_span: None,\n                as_: None,\n                index_hints: [],\n            },\n        ],\n        set_span: 15..18,\n        set: [\n            (\n                [\n                    Identifier {\n                        value: \"balance\",\n                        span: 19..26,\n                    },\n                ],\n                Binary(\n                    BinaryExpression {\n                        op: Subtract,\n                        op_span: 37..38,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"balance\",\n                                            span: 29..36,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: Unary(\n                            UnaryExpression {\n                                op: Minus,\n                                op_span: 39..40,\n                                operand: Integer(\n                                    IntegerExpression {\n                                        value: 1,\n                                        span: 40..41,\n                                    },\n                                ),\n                            },\n                        ),\n                    },\n                ),\n            ),\n        ],\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: Eq,\n                        op_span: 59..60,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"account_id\",\n                                            span: 48..58,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 5752,\n                                span: 61..65,\n                            },\n                        ),\n                    },\n                ),\n                42..47,\n            ),\n        ),\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "UPDATE account SET balance = balance WHERE account_id = 5752",
    "output": "Update(\n    Update {\n        update_span: 0..6,\n        flags: [],\n        tables: [\n            Table {\n                identifier: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"account\",\n                        span: 7..14,\n                    },\n                },\n                as_span: None,\n                as_: None,\n                index_hints: [],\n            },\n        ],\n        set_span: 15..18,\n        set: [\n            (\n                [\n                    Identifier {\n                        value: \"balance\",\n                        span: 19..26,\n                    },\n                ],\n                Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"balance\",\n                                    span: 29..36,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n            ),\n        ],\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: Eq,\n                        op_span: 54..55,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"account_id\",\n                                            span: 43..53,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 5752,\n                                span: 56..60,\n                            },\n                        ),\n                    },\n                ),\n                37..42,\n            ),\n        ),\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "UPDATE account SET balance=balance-- 1\n            WHERE account_id=5752",
    "output": "Update(\n    Update {\n        update_span: 0..6,\n        flags: [],\n        tables: [\n            Table {\n                identifier: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"account\",\n                        span: 7..14,\n                    },\n                },\n                as_span: None,\n                as_: None,\n                index_hints: [],\n            },\n        ],\n        set_span: 15..18,\n        set: [\n            (\n                [\n                    Identifier {\n                        value: \"balance\",\n                        span: 19..26,\n                    },\n                ],\n                Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"balance\",\n                                    span: 27..34,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n            ),\n        ],\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: Eq,\n                        op_span: 67..68,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"account_id\",\n                                            span: 57..67,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: Integer(\n                            IntegerExpression {\n                                value: 5752,\n                                span: 68..72,\n                            },\n                        ),\n                    },\n                ),\n                51..56,\n            ),\n        ),\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "UPDATE account SET balance=balance--1 WHERE account_id=5752",
    "output": "Update(\n    Update {\n        update_span: 0..6,\n        flags: [],\n        tables: [\n            Table {\n                identifier: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"account\",\n                        span: 7..14,\n                    },\n                },\n                as_span: None,\n                as_: None,\n                index_hints: [],\n            },\n        ],\n        set_span: 15..18,\n        set: [\n            (\n                [\n                    Identifier {\n                        value: \"balance\",\n                        span: 19..26,\n                    },\n                ],\n                Identifier(\n                    IdentifierExpression {\n                        parts: [\n                            Name(\n                                Identifier {\n                                    value: \"balance\",\n                                    span: 27..34,\n                                },\n                            ),\n                        ],\n                    },\n                ),\n            ),\n        ],\n        where_: None,\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "UPDATE orders AS o JOIN customers AS c ON o.customer_id = c.id SET o.completed = true WHERE c.firstname = 'Peter'",
    "output": "Update(\n    Update {\n        update_span: 0..6,\n        flags: [],\n        tables: [\n            Join {\n                join: Normal(\n                    19..23,\n                ),\n                left: Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"orders\",\n                            span: 7..13,\n                        },\n                    },\n                    as_span: Some(\n                        14..16,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"o\",\n                            span: 17..18,\n                        },\n                    ),\n                    index_hints: [],\n                },\n                right: Table {\n                    identifier: QualifiedName {\n                        prefix: [],\n                        identifier: Identifier {\n                            value: \"customers\",\n                            span: 24..33,\n                        },\n                    },\n                    as_span: Some(\n                        34..36,\n                    ),\n                    as_: Some(\n                        Identifier {\n                            value: \"c\",\n                            span: 37..38,\n                        },\n                    ),\n                    index_hints: [],\n                },\n                specification: Some(\n                    On(\n                        Binary(\n                            BinaryExpression {\n                                op: Eq,\n                                op_span: 56..57,\n                                lhs: Identifier(\n                                    IdentifierExpression {\n                                        parts: [\n                                            Name(\n                                                Identifier {\n                                                    value: \"o\",\n                                                    span: 42..43,\n                                                },\n                                            ),\n                                            Name(\n                                                Identifier {\n                                                    value: \"customer_id\",\n                                                    span: 44..55,\n                                                },\n                                            ),\n                                        ],\n                                    },\n                                ),\n                                rhs: Identifier(\n                                    IdentifierExpression {\n                                        parts: [\n                                            Name(\n                                                Identifier {\n                                                    value: \"c\",\n                                                    span: 58..59,\n                                                },\n                                            ),\n                                            Name(\n                                                Identifier {\n                                                    value: \"id\",\n                                                    span: 60..62,\n                                                },\n                                            ),\n                                        ],\n                                    },\n                                ),\n                            },\n                        ),\n                        39..41,\n                    ),\n                ),\n            },\n        ],\n        set_span: 63..66,\n        set: [\n            (\n                [\n                    Identifier {\n                        value: \"o\",\n                        span: 67..68,\n                    },\n                    Identifier {\n                        value: \"completed\",\n                        span: 69..78,\n                    },\n                ],\n                Bool(\n                    BoolExpression {\n                        value: true,\n                        span: 81..85,\n                    },\n                ),\n            ),\n        ],\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: Eq,\n                        op_span: 104..105,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"c\",\n                                            span: 92..93,\n                                        },\n                                    ),\n                                    Name(\n                                        Identifier {\n                                            value: \"firstname\",\n                                            span: 94..103,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"Peter\",\n                                span: 106..113,\n                            },\n                        ),\n                    },\n                ),\n                86..91,\n            ),\n        ),\n        returning: None,\n    },\n)",
    "issues": []
  },
  {
    "input": "UPDATE products SET price = @new_price := price * 1.1 WHERE category = 'Books'",
    "output": "Update(\n    Update {\n        update_span: 0..6,\n        flags: [],\n        tables: [\n            Table {\n                identifier: QualifiedName {\n                    prefix: [],\n                    identifier: Identifier {\n                        value: \"products\",\n                        span: 7..15,\n                    },\n                },\n                as_span: None,\n                as_: None,\n                index_hints: [],\n            },\n        ],\n        set_span: 16..19,\n        set: [\n            (\n                [\n                    Identifier {\n                        value: \"price\",\n                        span: 20..25,\n                    },\n                ],\n                Binary(\n                    BinaryExpression {\n                        op: Assignment,\n                        op_span: 39..41,\n                        lhs: UserVariable(\n                            UserVariableExpression {\n                                name: Identifier {\n                                    value: \"new_price\",\n                                    span: 29..38,\n                                },\n                                at_span: 28..29,\n                            },\n                        ),\n                        rhs: Binary(\n                            BinaryExpression {\n                                op: Mult,\n                                op_span: 48..49,\n                                lhs: Identifier(\n                                    IdentifierExpression {\n                                        parts: [\n                                            Name(\n                                                Identifier {\n                                                    value: \"price\",\n                                                    span: 42..47,\n                                                },\n                                            ),\n                                        ],\n                                    },\n                                ),\n                                rhs: Float(\n                                    FloatExpression {\n                                        value: 1.1,\n                                        span: 50..53,\n                                    },\n                                ),\n                            },\n                        ),\n                    },\n                ),\n            ),\n        ],\n        where_: Some(\n            (\n                Binary(\n                    BinaryExpression {\n                        op: Eq,\n                        op_span: 69..70,\n                        lhs: Identifier(\n                            IdentifierExpression {\n                                parts: [\n                                    Name(\n                                        Identifier {\n                                            value: \"category\",\n                                            span: 60..68,\n                                        },\n                                    ),\n                                ],\n                            },\n                        ),\n                        rhs: String(\n                            SString {\n                                value: \"Books\",\n                                span: 71..78,\n                            },\n                        ),\n                    },\n                ),\n                54..59,\n            ),\n        ),\n        returning: None,\n    },\n)",
    "issues": []
  }
]